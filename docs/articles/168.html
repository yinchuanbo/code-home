<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ES7ã€ES8ã€ES9ã€ES10ã€ES11ã€ES12éƒ½å¢åŠ äº†å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</title>
    <meta charset="utf-8">
    <meta name="description" content="This is a page">
    <meta name="keywords" content="page, sample">
    <meta name="author" content="None">
    <link rel="icon" href="../assets/images/code.svg" sizes="32x32" />
    <link rel="stylesheet" href="../assets/css/prism-okaidia.min.css">
    <link rel="stylesheet" href="../assets/css/articles.css">
</head>
<body>
  <!--<div class="article__wrapper_left">
    <div class="article__wrapper_left-mulu">ç›®å½•</div>
    <ul class="articles__list"><li class="">
          <a href="/articles/167.html">
            è·¨åŸŸé—®é¢˜å¤šç§è§£å†³æ–¹æ¡ˆçš„ç²¾åæ€»ç»“
          </a>
        </li><li class="">
          <a href="/articles/166.html">
            çº¯å‰ç«¯å¦‚ä½•å®ç°å½•å±å¹¶ä¿å­˜è§†é¢‘åˆ°æœ¬åœ°
          </a>
        </li><li class="">
          <a href="/articles/165.html">
            HTTP ç¼“å­˜
          </a>
        </li><li class="">
          <a href="/articles/164.html">
            è·å–æ‰‹æŒ‡è§¦æ‘¸ä½ç½®
          </a>
        </li><li class="">
          <a href="/articles/163.html">
            JSçš„å“ªäº›æ–°ç‰¹æ€§ï¼Œä½ éƒ½ç”¨è¿‡ä¹ˆï¼Ÿ
          </a>
        </li><li class="">
          <a href="/articles/162.html">
            å‰ç«¯æ¥å£é˜²æ­¢é‡å¤è¯·æ±‚å®ç°æ–¹æ¡ˆ
          </a>
        </li><li class="">
          <a href="/articles/161.html">
            ä¸€ä¸ªèšåˆäº†æ‰€æœ‰ä¸­å›½ç‹¬ç«‹å¼€å‘è€…é¡¹ç›®çš„èµ„æº
          </a>
        </li><li class="">
          <a href="/articles/160.html">
            æ»šåŠ¨æ’ä»¶ BetterScroll, å¢å¼ºç”¨æˆ·äº¤äº’ä½“éªŒ
          </a>
        </li><li class="">
          <a href="/articles/159.html">
            å¿«é€Ÿäº†è§£CSSè¡¨å•å°ºå¯¸å±æ€§ field-sizing
          </a>
        </li><li class="">
          <a href="/articles/158.html">
            å‰ç«¯æ¡†æ¶æ–°åŠ¿åŠ›å¤§ç›˜ç‚¹
          </a>
        </li></ul>
  </div>-->
  <div class="article__wrapper_sidebar">
    <a href="/articles/"><svg t="1714001835347" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4298" width="48" height="48"><path d="M147.904 304.128l301.866667-179.541333a128 128 0 0 1 131.712 0.512l295.466666 178.88A128 128 0 0 1 938.666667 413.482667V810.666667a128 128 0 0 1-128 128H213.333333a128 128 0 0 1-128-128V414.144a128 128 0 0 1 62.570667-110.016z m43.626667 73.344A42.666667 42.666667 0 0 0 170.666667 414.144V810.666667a42.666667 42.666667 0 0 0 42.666666 42.666666h597.333334a42.666667 42.666667 0 0 0 42.666666-42.666666V413.482667a42.666667 42.666667 0 0 0-20.565333-36.501334l-295.466667-178.88a42.666667 42.666667 0 0 0-43.925333-0.170666l-301.866667 179.541333z" fill="currentColor" p-id="4299"></path><path d="M405.333333 469.333333h213.333334a42.666667 42.666667 0 1 1 0 85.333334H405.333333a42.666667 42.666667 0 1 1 0-85.333334z m0 85.333334a42.666667 42.666667 0 1 0 0-85.333334h213.333334a42.666667 42.666667 0 1 0 0 85.333334H405.333333z" fill="currentColor" p-id="4300"></path></svg></a>
    <a href="/tools/"><svg t="1714002003458" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6911" width="48" height="48"><path d="M817.87 556.31h-63.58v-66.24A42.27 42.27 0 0 0 712 447.8h-84.81a42.27 42.27 0 0 0-42.27 42.27v66.24H436.57v-66.24a42.27 42.27 0 0 0-42.27-42.27h-84.83a42.27 42.27 0 0 0-42.27 42.27v66.24h-61.83A22.39 22.39 0 0 0 183 578.7a22.39 22.39 0 0 0 22.39 22.39h61.81v65.55a42.27 42.27 0 0 0 42.27 42.27h84.83a42.27 42.27 0 0 0 42.27-42.27v-65.55h148.36v65.55a42.27 42.27 0 0 0 42.27 42.27H712a42.27 42.27 0 0 0 42.27-42.27v-65.55h63.58a22.39 22.39 0 0 0 22.39-22.39 22.39 22.39 0 0 0-22.37-22.39z m-438.64 95.26h-54.69V505.14h54.69z m317.72 0h-54.69V505.14H697z" p-id="6912" fill="currentColor"></path><path d="M823 202.58h-90.81v-63.09a71.88 71.88 0 0 0-71.88-71.88H363.19a71.88 71.88 0 0 0-71.88 71.88v63.08h-90.12A137.17 137.17 0 0 0 64 339.75v479a137.17 137.17 0 0 0 137.19 137.14H823a137.17 137.17 0 0 0 137.19-137.17v-479A137.17 137.17 0 0 0 823 202.58z m-474.36-54.1A23.52 23.52 0 0 1 372.17 125h279.16a23.52 23.52 0 0 1 23.52 23.52v54.1h-326.2z m554.23 673.31a76.76 76.76 0 0 1-76.76 76.76h-628a76.76 76.76 0 0 1-76.76-76.76V336.67a76.76 76.76 0 0 1 76.76-76.76h628a76.76 76.76 0 0 1 76.76 76.76z" p-id="6913" fill="currentColor"></path></svg></a>
  </div>
  <div class="article__wrapper">
    <div class="article__wrapper__main">
      <div class="article__wrapper_header">
        <h1>ES7ã€ES8ã€ES9ã€ES10ã€ES11ã€ES12éƒ½å¢åŠ äº†å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</h1>
        <span class="articles__home_time">2024/05/18 Â· YinHao</span>
      </div>
      <h1>ES7</h1>
<p>ES2016ï¼ˆES7ï¼‰ä¸­æ–°å¢äº†å¦‚ä¸‹ç‰¹æ€§ ğŸ‘‡</p>
<ul>
<li><code>Array.prototype.includes</code></li>
<li><code>Exponentiation Operator</code></li>
</ul>
<h2>1. <code>Array.prototype.includes</code></h2>
<p><code>includes()</code>æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æˆ–å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼</p>
<p><strong>è¿”å›å€¼ï¼š</strong> å¦‚æœåŒ…å«è¿”å›<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code>ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<ul>
<li><code>arr.includes(valueToFind)</code></li>
<li><code>arr.includes(valueToFind, fromIndex)</code></li>
</ul>
<pre><code class="language-js">let arr = [1, 2, 3, 4];
arr.includes(3); // true
arr.includes(5); // false
arr.includes(3, 1); // true
</code></pre>
<ul>
<li>fromIndex å¤§äºç­‰äºæ•°ç»„é•¿åº¦ï¼Œ<strong>è¿”å›<code>false</code></strong><pre><code class="language-js">arr.includes(3, 3); // false
arr.includes(3, 20); // false
</code></pre>
</li>
<li>è®¡ç®—å‡ºçš„ç´¢å¼•å°äº 0<br>
å¦‚æœ<code>fromIndex</code>ä¸ºè´Ÿå€¼ï¼Œä½¿ç”¨<code>æ•°ç»„é•¿åº¦ + fromIndex</code>è®¡ç®—å‡ºçš„ç´¢å¼•ä½œä¸ºæ–°çš„<code>fromIndex</code>ï¼Œå¦‚æœæ–°çš„<code>fromIndex</code>ä¸ºè´Ÿå€¼ï¼Œåˆ™æœç´¢æ•´ä¸ªæ•°ç»„ã€‚<pre><code class="language-js">arr.includes(3, -100); // true
arr.includes(3, -1); // false
</code></pre>
</li>
</ul>
<h2>2. <code>Exponentiation Operator</code>å¹‚è¿ç®—</h2>
<p>å¹‚è¿ç®—ç¬¦<code>**</code>ï¼Œç›¸å½“äº<code>Math.pow()</code></p>
<pre><code class="language-js">5 ** 2; // 25
Math.pow(5, 2); // 25
</code></pre>
<h1>ES8</h1>
<p>ES2017ï¼ˆES8ï¼‰æ–°å¢äº†ä»¥ä¸‹ç‰¹æ€§ ğŸ‘‡</p>
<ul>
<li><code>Async functions</code></li>
<li><code>Object.entries</code></li>
<li><code>Object.values</code></li>
<li><code>Object.getOwnPropertyDescriptors</code></li>
<li><code>Trailing commas</code></li>
</ul>
<h2>1. <code>Async functions</code></h2>
<p><code>Async functions</code> æ˜¯ <code>async</code> å£°æ˜çš„å‡½æ•°ï¼Œ<code>async</code> å‡½æ•°æ˜¯ <code>AsyncFunction</code> æ„é€ å‡½æ•°çš„å®ä¾‹ï¼Œå…¶ä¸­å…è®¸ä½¿ç”¨ <code>await</code> å…³é”®å­—ã€‚</p>
<p><strong>è¿”å›å€¼</strong>ï¼šä¸€ä¸ª<code>Promise</code></p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">async function name([param[, param[, ...param]]]) {
 // statements
}
</code></pre>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">const promise = () =&gt; {
  console.log(&quot;1&quot;);
  return new Promise((resolve, reject) =&gt; {
    resolve(&quot;2&quot;);
  });
};
const asyncFun = async () =&gt; {
  console.log(&quot;3&quot;);
  const test = await promise();
  console.log(&quot;4&quot;, test);
};
asyncFun(); // 3 1 4 2
</code></pre>
<h2>2. <code>Object.entries</code></h2>
<p><strong>è¿”å›å€¼</strong>ï¼š<code>Object.entries()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">Object.entries(obj);
</code></pre>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">let obj = { a: 1, b: 2 };
Object.entries(obj); // [['a', 1], ['b', 2]]
</code></pre>
<h2>3. <code>Object.values</code></h2>
<p><strong>è¿”å›å€¼ï¼š</strong><code>Object.values()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§å€¼çš„æ•°ç»„</p>
<p><strong>è¯­æ³•ï¼š</strong><code>Object.values(obj);</code></p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">let obj = { a: 1, b: 2 };
Object.values(obj); // [1, 2]
</code></pre>
<h2>4. <code>Object.getOwnPropertyDescriptors</code></h2>
<p><strong>è¿”å›å€¼ï¼š</strong><code>Object.getOwnPropertyDescriptors()</code> æ–¹æ³•ç”¨æ¥è·å–ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„æè¿°ç¬¦</p>
<p><strong>è¯­æ³•ï¼š</strong><code>Object.getOwnPropertyDescriptors(obj);</code></p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">let obj = { a: 1, b: 2 };
Object.getOwnPropertyDescriptors(obj); // [a: {configurable: true, enumerable: true, value: 1, writable: true}, b: {configurable: true, enumerable: true, value: 2, writable: true}]
</code></pre>
<h2>5. <code>Trailing commas</code> å°¾åé€—å·</h2>
<p>å¦‚æœä½ æƒ³è¦æ·»åŠ æ–°çš„å±æ€§ï¼Œå¹¶ä¸”åœ¨ä¸Šä¸€è¡Œå·²ç»ä½¿ç”¨äº†å°¾åé€—å·ï¼Œä½ å¯ä»¥ä»…ä»…æ·»åŠ æ–°çš„ä¸€è¡Œï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä¸Šä¸€è¡Œã€‚</p>
<p>âš ï¸ JSON ä¸å…è®¸å°¾åé€—å·</p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<ul>
<li>å­—é¢é‡ä¸­çš„å°¾åé€—å·
<ul>
<li>å¯¹è±¡<pre><code class="language-js">let obj = {
  a: 1,
  b: 2,
};
</code></pre>
</li>
<li>æ•°ç»„<pre><code class="language-js">let arr = [1, 2];
</code></pre>
</li>
</ul>
</li>
<li>å‡½æ•°ä¸­çš„å°¾åé€—å·
<ul>
<li>å‚æ•°å®šä¹‰<pre><code class="language-js">function(x, y) {}
function(x, y,) {}
(x, y) =&gt; {}
(x, y,) =&gt; {}
</code></pre>
</li>
<li>å‡½æ•°è°ƒç”¨<pre><code class="language-js">fun(x, y);
fun(x, y);
</code></pre>
</li>
<li>ä¸åˆæ³•çš„å°¾åé€—å·
ä¸å«å‚æ•°æˆ–è€…åœ¨å‰©ä½™å‚æ•°åé¢åŠ é€—å·ï¼Œéƒ½æ˜¯ä¸åˆæ³•çš„å°¾åé€—å·<pre><code class="language-js">function(,) {}
(,) =&gt; {}
fn(,)
function(...arg,) {}
(...arg,) =&gt; {}
</code></pre>
</li>
</ul>
</li>
<li>è§£æ„ä¸­çš„å°¾åé€—å·<pre><code class="language-js">let [a, b] = [1, 2];
let { x, y } = { x: 1, y: 2 };
</code></pre>
</li>
<li>JSON ä¸­çš„å°¾åé€—å·
JSON ä¸­ä¸å…è®¸å‡ºç°å°¾åé€—å·<pre><code class="language-js">JSON.parse(&quot;[1, 2, 3,]&quot;); // âŒ
JSON.parse('{&quot;a&quot;: 1,}'); // âŒ
JSON.parse(&quot;[1, 2, 3]&quot;); // âœ…
JSON.parse('{&quot;a&quot;: 1}'); // âœ…
</code></pre>
</li>
</ul>
<h2>6. <code>String.prototype.padStart()</code></h2>
<p><code>padStart()</code> ç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¡«å……å½“å‰å­—ç¬¦ä¸²ã€‚</p>
<p><strong>è¿”å›å€¼ï¼š</strong> åœ¨åŸå­—ç¬¦ä¸²<strong>å¼€å¤´</strong>å¡«å……æŒ‡å®šçš„å¡«å……å­—ç¬¦ä¸²ç›´åˆ°ç›®æ ‡é•¿åº¦æ‰€å½¢æˆçš„æ–°å­—ç¬¦ä¸²ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">str.padStart(targetLength);
str.padStart(targetLength, padString);
</code></pre>
<ul>
<li>targetLengthï¼šå½“å‰å­—ç¬¦ä¸²éœ€è¦å¡«å……åˆ°çš„ç›®æ ‡é•¿åº¦ã€‚å¦‚æœè¿™ä¸ªæ•°å€¼å°äºå½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™è¿”å›å½“å‰å­—ç¬¦ä¸²æœ¬èº«ã€‚</li>
<li>padStringï¼ˆå¯é€‰ï¼‰ï¼šå¡«å……å­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²å¤ªé•¿ï¼Œä½¿å¡«å……åçš„å­—ç¬¦ä¸²é•¿åº¦è¶…è¿‡äº†ç›®æ ‡é•¿åº¦ï¼Œåˆ™åªä¿ç•™æœ€å·¦ä¾§çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†ä¼šè¢«æˆªæ–­ã€‚æ­¤å‚æ•°çš„é»˜è®¤å€¼ä¸º &quot; &quot;ã€‚</li>
</ul>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">&quot;abc&quot;.padStart(10); // &quot;       abc&quot;
&quot;abc&quot;.padStart(10, &quot;foo&quot;); // &quot;foofoofabc&quot;
&quot;abc&quot;.padStart(6, &quot;123465&quot;); // &quot;123abc&quot;
&quot;abc&quot;.padStart(8, &quot;0&quot;); // &quot;00000abc&quot;
&quot;abc&quot;.padStart(1); // &quot;abc&quot;
</code></pre>
<h2>7. <code>String.prototype.padEnd()</code></h2>
<p><code>padEnd()</code> æ–¹æ³•ä¼šç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å¡«å……å½“å‰å­—ç¬¦ä¸²ï¼ˆå¦‚æœéœ€è¦çš„è¯åˆ™é‡å¤å¡«å……ï¼‰ã€‚</p>
<p><strong>è¿”å›å€¼ï¼š</strong> è¿”å›åœ¨åŸå­—ç¬¦ä¸²<strong>æœ«å°¾</strong>å¡«å……æŒ‡å®šçš„å¡«å……å­—ç¬¦ä¸²ç›´åˆ°ç›®æ ‡é•¿åº¦æ‰€å½¢æˆçš„æ–°å­—ç¬¦ä¸²ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">str.padEnd(targetLength);
str.padEnd(targetLength, padString);
</code></pre>
<ul>
<li>targetLengthï¼šå½“å‰å­—ç¬¦ä¸²éœ€è¦å¡«å……åˆ°çš„ç›®æ ‡é•¿åº¦ã€‚å¦‚æœè¿™ä¸ªæ•°å€¼å°äºå½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™è¿”å›å½“å‰å­—ç¬¦ä¸²æœ¬èº«ã€‚</li>
<li>padStringï¼ˆå¯é€‰ï¼‰ï¼šå¡«å……å­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²å¤ªé•¿ï¼Œä½¿å¡«å……åçš„å­—ç¬¦ä¸²é•¿åº¦è¶…è¿‡äº†ç›®æ ‡é•¿åº¦ï¼Œåˆ™åªä¿ç•™æœ€å·¦ä¾§çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†ä¼šè¢«æˆªæ–­ã€‚æ­¤å‚æ•°çš„ç¼ºçœå€¼ä¸º &quot; &quot;ã€‚</li>
</ul>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">&quot;abc&quot;.padEnd(10); // &quot;abc       &quot;
&quot;abc&quot;.padEnd(10, &quot;foo&quot;); // &quot;abcfoofoof&quot;
&quot;abc&quot;.padEnd(6, &quot;123456&quot;); // &quot;abc123&quot;
&quot;abc&quot;.padEnd(1); // &quot;abc&quot;
</code></pre>
<h1>ES9</h1>
<p>ES2018ï¼ˆES9ï¼‰æ–°å¢äº†å¦‚ä¸‹ç‰¹æ€§ ğŸ‘‡</p>
<ul>
<li><code>Async iterators</code> å¼‚æ­¥è¿­ä»£å™¨</li>
<li><code>Object rest properties</code> å‰©ä½™å±æ€§</li>
<li><code>Object spread properties</code> æ‰©å±•å±æ€§</li>
<li><code>Promise.prototype.finally</code></li>
</ul>
<h2>1. <code>Async iterators</code> å¼‚æ­¥è¿­ä»£å™¨</h2>
<p><strong>è¿”å›å€¼ï¼š</strong> <code>Async iterator</code> å¯¹è±¡çš„ next() æ–¹æ³•è¿”å›ä¸€ä¸ª <code>Promise</code>ï¼Œè¿™ä¸ª <code>Promise</code> çš„è¿”å›å€¼å¯ä»¥è¢«è§£ææˆ <code>{value, done}</code> çš„æ ¼å¼ï¼Œ</p>
<p><strong>è¯­æ³•ï¼š</strong><code>iterator.next().then(({value, done}) =&gt; {});</code></p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">const asyncIterator = () =&gt; {
  const array = [1, 2];
  return {
    next: function () {
      if (array.length) {
        return Promise.resolve({
          value: array.shift(),
          done: false,
        });
      }
      return Promise.resolve({
        done: true,
      });
    },
  };
};
let iterator = asyncIterator();
const test = async () =&gt; {
  await iterator.next().then(console.log); // {value: 1, done: false}
  await iterator.next().then(console.log); // {value: 2, done: false}
  await iterator.next().then(console.log); // {done: true}
};
test();
</code></pre>
<h3>å¯ä»¥ä½¿ç”¨ <code>for-await-of</code> åœ¨å¾ªç¯ä¸­å¼‚æ­¥è°ƒç”¨å‡½æ•°</h3>
<pre><code class="language-js">const promises = [
  new Promise((resolve) =&gt; resolve(1)),
  new Promise((resolve) =&gt; resolve(2)),
  new Promise((resolve) =&gt; resolve(3)),
];
const test = async () =&gt; {
  for await (const p of promises) {
    console.log(&quot;p&quot;, p);
  }
};
test();
</code></pre>
<h2>2. <code>Object rest properties</code></h2>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">let test = {
  a: 1,
  b: 2,
  c: 3,
  d: 4,
};
let { a, b, ...rest } = test;
console.log(a); // 1
console.log(b); // 2
console.log(rest); // {c: 3, d: 4}
</code></pre>
<p><strong>âš ï¸ æ³¨æ„ï¼š</strong></p>
<ul>
<li><code>null</code> ä¸èƒ½ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦</li>
</ul>
<pre><code class="language-js">let { a, b, ...rest } = null; // âŒ
</code></pre>
<h2>3. <code>Object spread properties</code></h2>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">let test = {
  a: 1,
  b: 2,
};
let result = { c: 3, ...test };
console.log(result); // {c: 3, a: 1, b: 2}
</code></pre>
<pre><code class="language-js">let test = null;
let result = { c: 3, ...test }; // {c: 3}
</code></pre>
<h2>4. <code>Promise.prototype.finally</code></h2>
<p>åœ¨<code>Promise</code>ç»“æŸçš„æ—¶å€™ï¼Œä¸ç®¡æ˜¯ç»“æœæ˜¯<code>resolved</code>è¿˜æ˜¯<code>rejected</code>ï¼Œéƒ½ä¼šè°ƒç”¨<code>finally</code>ä¸­çš„æ–¹æ³•</p>
<p><code>finally</code>ä¸­çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°</p>
<p><strong>è¿”å›å€¼ï¼š</strong> ä¸€ä¸ª Promise</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">const promise = new Promise((resolve, reject) =&gt; {
  resolve(&quot;resolved&quot;);
  reject(&quot;rejectd&quot;);
});
promise
  .then((res) =&gt; {
    console.log(res);
  })
  .finally(() =&gt; {
    console.log(&quot;finally&quot;);
  });
</code></pre>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">const promise = new Promise((resolve, reject) =&gt; {
  resolve(1);
  reject(2);
});
const test = () =&gt; {
  console.log(3);
  promise
    .then((res) =&gt; {
      console.log(4, res);
    })
    .catch((err) =&gt; {
      console.log(5, err);
    })
    .finally(() =&gt; {
      console.log(6);
    });
};
test(); // 3 4 1 6
</code></pre>
<h1>ES10</h1>
<p>ES2019ï¼ˆES10ï¼‰æ–°å¢äº†å¦‚ä¸‹æ–°ç‰¹æ€§ ğŸ‘‡ï¼š</p>
<ul>
<li><code>Array.prototype.{flat, flatMap}</code>æ‰å¹³åŒ–åµŒå¥—æ•°ç»„</li>
<li><code>Object.fromEntries</code></li>
<li><code>String.prototype.{trimStart, trimEnd}</code></li>
<li><code>Symbol.prototype.description</code></li>
<li><code>Optional catch binding</code></li>
<li>Array.prototype.sort() is now required to be stable</li>
</ul>
<h2>1. <code>Array.prototype.{flat, flatMap}</code> æ‰å¹³åŒ–åµŒå¥—æ•°ç»„</h2>
<h3>Array.prototype.flat</h3>
<p><code>flat()</code>æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦éå†é€’å½’<strong>æ•°ç»„</strong>ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚</p>
<p><strong>è¿”å›å€¼ï¼š</strong> ä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸ä¼šæ”¹å˜æ—§æ•°ç»„ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong> <code>arr.flat([depth]);</code></p>
<ul>
<li><code>depth</code> æ˜¯æ•°ç»„éå†çš„æ·±åº¦ï¼Œé»˜è®¤æ˜¯ 1ã€‚</li>
</ul>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">const arr = [1, 2, [[[[3, 4]]]]];
arr.flat(); // [1, 2, [[[3, 4]]]]
arr.flat(3); // [1, 2, [3, 4]]
arr.flat(-1); // [1, 2, [[[[3, 4]]]]]
arr.flat(Infinity); // [1, 2, 3, 4]
</code></pre>
<p><strong>âš ï¸ æ³¨æ„ï¼š</strong></p>
<ul>
<li><code>flat()</code>ä¼šç§»é™¤æ•°ç»„ä¸­çš„ç©ºé¡¹</li>
</ul>
<pre><code class="language-js">let arr = [1, 2, , , 3];
arr.flat(); // [1, 2, 3]
</code></pre>
<h4>æ‰‹æ’• flat</h4>
<pre><code class="language-js">function customFlat(arr, depth = 1) {
  if (!Array.isArray(arr) || depth &lt;= 0) {
    return arr;
  }
  return arr.reduce((pre, cur) =&gt; {
    if (Array.isArray(arr)) {
      return pre.concat(customFlat(cur, depth - 1));
    }
    return pre.concat(cur);
  }, []);
}
</code></pre>
<h4>æ›¿æ¢</h4>
<ul>
<li><code>reduce</code>ä¸<code>concat</code></li>
</ul>
<pre><code class="language-js">let arr = [1, 2, [3, 4]];
arr.reduce((arr, val) =&gt; arr.concat(val), []);
</code></pre>
<ul>
<li><code>...</code> æ‰©å±•è¿ç®—ç¬¦ä¸<code>concat</code></li>
</ul>
<pre><code class="language-js">let arr = [1, 2, [3, 4]];
[].concat(...arr);
</code></pre>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flat">æ›´å¤šæ›¿æ¢æ–¹å¼è¯·æŸ¥çœ‹ MDN</a></p>
<h3>Array.prototype.flatMap</h3>
<p><code>flatMap()</code>æ–¹æ³•é¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ•°ç»„ï¼ˆ<strong>æ·±åº¦å€¼ä¸º 1</strong>ï¼‰çš„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå‹ç¼©æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚</p>
<p><strong>è¿”å›å€¼ï¼š</strong> ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¹¶ä¸”æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å›è°ƒå‡½æ•°çš„ç»“æœã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">arr.flatMap(function callback(currentVal[, index[, array]]) {
}[, thisArg])
</code></pre>
<ul>
<li>callback: å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„æ‰€è°ƒç”¨çš„å‡½æ•°
<ul>
<li>currentVal: å½“å‰æ•°ç»„åœ¨å¤„ç†çš„å…ƒç´ </li>
<li>index: å¯é€‰ï¼Œæ­£åœ¨å¤„ç†çš„å…ƒç´ ç´¢å¼•</li>
<li>array: å¯é€‰ï¼Œè¢«è°ƒç”¨çš„æ•°ç»„</li>
</ul>
</li>
<li>thisArg: æ‰§è¡Œ callback å‡½æ•°æ—¶ä½¿ç”¨çš„ this å€¼</li>
</ul>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">let arr = [&quot;My name&quot;, &quot;is&quot;, &quot;&quot;, &quot;Lisa&quot;];
let newArr1 = arr.flatMap((cur) =&gt; cur.split(&quot; &quot;)); // [&quot;My&quot;, &quot;name&quot;, &quot;is&quot;, &quot;&quot;, &quot;Lisa&quot;]
let newArr2 = arr.map((cur) =&gt; cur.split(&quot; &quot;)); // [[&quot;My&quot;, &quot;name&quot;], [&quot;is&quot;], [&quot;&quot;], [&quot;Lisa&quot;]]
</code></pre>
<h2>2. <code>Object.fromEntries</code></h2>
<p><code>fromEntries()</code> æ–¹æ³•ä¼šæŠŠé”®å€¼å¯¹åˆ—è¡¨è½¬æ¢æˆä¸€ä¸ªå¯¹è±¡</p>
<p><strong>è¿”å›å€¼ï¼š</strong> ä¸€ä¸ªæ–°çš„å¯¹è±¡</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">Object.fromEntries(iterable);
</code></pre>
<ul>
<li>iterable: Arrayã€Map ç­‰å¯è¿­ä»£å¯¹è±¡</li>
</ul>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">let map = new Map([
  [&quot;a&quot;, 1],
  [&quot;b&quot;, 2],
]);
let mapToObj = Object.fromEntries(map);
console.log(mapToObj); // {a: 1, b: 2}
let arr = [
  [&quot;a&quot;, 1],
  [&quot;b&quot;, 2],
];
let arrToObj = Object.fromEntries(arr);
console.log(arrToObj); // {a: 1, b: 2}
let obj = { a: 1, b: 2 };
let newObj = Object.fromEntries(
  Object.entries(obj).map(([key, val]) =&gt; [key, val * 2])
);
console.log(newObj); // {a: 2, b: 4}
</code></pre>
<h2>3. <code>String.prototype.{trimStart, trimEnd}</code></h2>
<h3><code>String.prototype.trimStart</code></h3>
<p><code>trimStart()</code> æ–¹æ³•ç”¨æ¥åˆ é™¤å­—ç¬¦ä¸²çš„å¼€å¤´çš„ç©ºç™½å­—ç¬¦ã€‚</p>
<p><code>trimLeft()</code> æ˜¯å®ƒçš„åˆ«åã€‚</p>
<p><strong>è¿”å›å€¼ï¼š</strong> ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼å·²ç»è¢«å»é™¤æ‰äº†ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">str.trimStart();
str.trimLeft();
</code></pre>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">let str = &quot;    a b cd  &quot;;
str.trimStart(); // 'a b cd  '
str.trimLeft(); // 'a b cd  '
</code></pre>
<h3><code>String.prototype.trimEnd</code></h3>
<p><code>trimEnd()</code> æ–¹æ³•ç”¨æ¥åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºç™½å­—ç¬¦ã€‚</p>
<p><code>trimRight()</code> æ˜¯å®ƒçš„åˆ«å</p>
<p><strong>è¿”å›å€¼ï¼š</strong> ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å³è¾¹çš„ç©ºæ ¼å·²ç»è¢«å»é™¤äº†</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">str.trimEnd();
str.trimRight();
</code></pre>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">let str = &quot;    a b cd  &quot;;
str.trimEnd(); // '    a b cd'
str.trimRight(); // '    a b cd'
</code></pre>
<h2>4. <code>Symbol.prototype.description</code></h2>
<p><code>description</code> æ˜¯ä¸€ä¸ªåªè¯»å±æ€§</p>
<p><strong>è¿”å›å€¼ï¼š</strong> å®ƒè¿”å› Symbol å¯¹è±¡çš„å¯é€‰æè¿°çš„å­—ç¬¦ä¸²</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="language-js">Symbol(&quot;myDescription&quot;).description;
Symbol.iterator.description;
Symbol.for(&quot;foo&quot;).description;
</code></pre>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="language-js">Symbol(&quot;foo&quot;).description; // 'foo'
Symbol().description; // undefined
Symbol.for(&quot;foo&quot;).description; // 'foo'
</code></pre>
<h2>5. <code>Optional catch binding</code></h2>
<p>å¯é€‰çš„æ•è·ç»‘å®šï¼Œå…è®¸çœç•¥ catch ç»‘å®šå’Œå®ƒåé¢çš„åœ†æ‹¬å·</p>
<p>ä»¥å‰çš„ç”¨æ³•ï¼š</p>
<pre><code class="language-js">try {
} catch (err) {
  console.log(&quot;err&quot;, err);
}
</code></pre>
<p>ES10 çš„ç”¨æ³•ï¼š</p>
<pre><code class="language-js">try {
} catch {}
</code></pre>
<h2>6. <code>JSON.stringify()</code> çš„å¢å¼ºåŠ›</h2>
<p><code>JSON.stringify()</code> åœ¨ ES10 ä¿®å¤äº†å¯¹äºä¸€äº›è¶…å‡ºèŒƒå›´çš„ Unicode å±•ç¤ºé”™è¯¯çš„é—®é¢˜ï¼Œæ‰€ä»¥é‡åˆ° 0xD800-0xDFF ä¹‹å†…çš„å­—ç¬¦ä¼šå› ä¸ºæ— æ³•ç¼–ç æˆ UTF-8 è¿›è€Œå¯¼è‡´æ˜¾ç¤ºé”™è¯¯ã€‚åœ¨ ES10 å®ƒä¼šç”¨è½¬ä¹‰å­—ç¬¦çš„æ–¹å¼æ¥å¤„ç†è¿™éƒ¨åˆ†å­—ç¬¦è€Œéç¼–ç çš„æ–¹å¼ï¼Œè¿™æ ·å°±ä¼šæ­£å¸¸æ˜¾ç¤ºäº†ã€‚</p>
<pre><code class="language-js">JSON.stringify(&quot;ğŸ˜Š&quot;); // '&quot;ğŸ˜Š&quot;'
</code></pre>
<h2>7. ä¿®è®¢ <code>Function.prototype.toString()</code></h2>
<p>ä»¥å‰çš„ toString æ–¹æ³•æ¥è‡ª <code>Object.prototype.toString()</code>ï¼Œç°åœ¨ çš„ <code>Function.prototype.toString()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªè¡¨ç¤ºå½“å‰å‡½æ•°æºä»£ç çš„å­—ç¬¦ä¸²ã€‚ä»¥å‰åªä¼šè¿”å›è¿™ä¸ªå‡½æ•°ï¼Œä¸ä¼šåŒ…å«ç©ºæ ¼ã€æ³¨é‡Šç­‰ã€‚</p>
<pre><code class="language-js">function foo() {
  // es10æ–°ç‰¹æ€§
  console.log(&quot;imooc&quot;);
}
console.log(foo.toString());
// function foo() {
//     // es10æ–°ç‰¹æ€§
//     console.log('imooc')
// }
</code></pre>
<h1>ES11</h1>
<p>ES2020(ES11)æ–°å¢äº†å¦‚ä¸‹æ–°ç‰¹æ€§ ğŸ‘‡ï¼š</p>
<ul>
<li>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆNullish coalescing Operatorï¼‰</li>
<li>å¯é€‰é“¾ Optional chaining</li>
<li>globalThis</li>
<li>BigInt</li>
<li><code>String.prototype.matchAll()</code></li>
<li><code>Promise.allSettled()</code></li>
<li>Dynamic importï¼ˆæŒ‰éœ€ importï¼‰</li>
</ul>
<h2>1. ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆNullish coalescing Operatorï¼‰</h2>
<h3>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ<code>??</code>ï¼‰</h3>
<p><strong>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦</strong>ï¼ˆ<code>??</code>ï¼‰æ˜¯ä¸€ä¸ªé€»è¾‘æ“ä½œç¬¦ï¼Œå½“å·¦è¾¹çš„æ“ä½œæ•°ä¸º <code>null</code> æˆ– <code>undefined</code> çš„æ—¶å€™ï¼Œè¿”å›å…¶å³ä¾§æ“ä½œç¬¦ï¼Œå¦åˆ™è¿”å›å·¦ä¾§æ“ä½œç¬¦ã€‚</p>
<pre><code class="language-js">undefined ?? &quot;foo&quot;; // 'foo'
null ?? &quot;foo&quot;; // 'foo'
&quot;foo&quot; ?? &quot;bar&quot;; // 'foo'
</code></pre>
<h3>é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ<code>||</code>ï¼‰</h3>
<p><strong>é€»è¾‘æˆ–æ“ä½œç¬¦</strong>ï¼ˆ<code>||</code>ï¼‰ï¼Œä¼šåœ¨å·¦ä¾§æ“ä½œæ•°ä¸ºå‡å€¼æ—¶è¿”å›å³ä¾§æ“ä½œæ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½¿ç”¨ <code>||</code> æ¥ä¸ºæŸäº›å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œå¯èƒ½ä¼šå‡ºç°æ„æ–™ä¹‹å¤–çš„æƒ…å†µã€‚æ¯”å¦‚ 0ã€''ã€NaNã€falseï¼š</p>
<pre><code class="language-js">0 || 1; // 1
0 ?? 1; // 0
&quot;&quot; || &quot;bar&quot;; // 'bar'
&quot;&quot; ?? &quot;bar&quot;; // ''
NaN || 1; // 1
NaN ?? 1; // NaN
false || &quot;bar&quot;; // 'bar'
false ?? &quot;bar&quot;; // false
</code></pre>
<h3>æ³¨æ„</h3>
<p>ä¸å¯ä»¥å°† <code>??</code> ä¸ ANDï¼ˆ<code>&amp;&amp;</code>ï¼‰ORï¼ˆ<code>||</code>ï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œä¼šæŠ¥é”™ã€‚</p>
<pre><code class="language-js">null || undefined ?? &quot;foo&quot;; // æŠ›å‡º SyntaxError
true || undefined ?? &quot;foo&quot;; // æŠ›å‡º SyntaxError
</code></pre>
<h2>2. å¯é€‰é“¾ Optional chaining</h2>
<p><strong>ä»‹ç»ï¼š</strong> <strong>å¯é€‰é“¾æ“ä½œç¬¦</strong>ï¼ˆ<code>?.</code>ï¼‰å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨éƒ½æ˜¯å¦æœ‰æ•ˆã€‚<code>?.</code> æ“ä½œç¬¦çš„åŠŸèƒ½ç±»ä¼¼äº<code>.</code>é“¾å¼æ“ä½œç¬¦ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œåœ¨å¼•ç”¨ä¸º <code>null</code> æˆ– <code>undefined</code> æ—¶ä¸ä¼šæŠ¥é”™ï¼Œè¯¥é“¾è·¯è¡¨è¾¾å¼è¿”å›å€¼ä¸º <code>undefined</code>ã€‚</p>
<p><strong>ä»¥å‰çš„å†™æ³•ï¼š</strong></p>
<pre><code class="language-js">const street = user &amp;&amp; user.address &amp;&amp; user.address.street;
const num =
  user &amp;&amp; user.address &amp;&amp; user.address.getNum &amp;&amp; user.address.getNum();
console.log(street, num);
</code></pre>
<p><strong>ES11 çš„å†™æ³•ï¼š</strong></p>
<pre><code class="language-js">const street2 = user?.address?.street;
const num2 = user?.address?.getNum?.();
console.log(street2, num2);
</code></pre>
<p><strong>âš ï¸ æ³¨æ„ï¼š</strong></p>
<p>å¯é€‰é“¾ä¸èƒ½ç”¨äºèµ‹å€¼ï¼š</p>
<pre><code class="language-js">let object = {};
object?.property = 1; // Uncaught SyntaxError: Invalid left-hand side in assignment
</code></pre>
<h2>3. globalThis</h2>
<p>ä»¥å‰ï¼Œåœ¨ Web ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>window</code>ã€<code>self</code> å–åˆ°å…¨å±€å¯¹è±¡ï¼Œåœ¨ node.js ä¸­ï¼Œå¿…é¡»ä½¿ç”¨ <code>global</code>ã€‚</p>
<p>åœ¨æ¾æ•£æ¨¡å¼ä¸‹ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸­è¿”å› <code>this</code> æ¥è·å–å…¨å±€å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼å’Œæ¨¡å—ç¯å¢ƒä¸‹ï¼Œ<code>this</code> ä¼šè¿”å› <code>undefined</code>ã€‚</p>
<p>ä»¥å‰è¦è·å–å…¨å±€å¯¹è±¡ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼š</p>
<pre><code class="language-js">const getGlobal = () =&gt; {
  if (typeof self !== &quot;undefined&quot;) {
    return self;
  }
  if (typeof window !== &quot;undefined&quot;) {
    return window;
  }
  if (typeof global !== &quot;undefined&quot;) {
    return global;
  }
  throw new Error(&quot;æ— æ³•æ‰¾åˆ°å…¨å±€å¯¹è±¡&quot;);
};
const globals = getGlobal();
console.log(globals);
</code></pre>
<p>ç°åœ¨ <code>globalThis</code> æä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„æ–¹å¼æ¥è·å–ä¸åŒç¯å¢ƒä¸‹çš„å…¨å±€å¯¹è±¡è‡ªèº«å€¼ã€‚</p>
<h2>4. BigInt</h2>
<p>BigInt æ˜¯ä¸€ç§å†…ç½®å¯¹è±¡ï¼Œç”¨æ¥åˆ›å»ºæ¯” 2^53 - 1ï¼ˆNumber å¯åˆ›å»ºçš„æœ€å¤§æ•°å­—ï¼‰ æ›´å¤§çš„æ•´æ•°ã€‚å¯ä»¥ç”¨æ¥è¡¨ç¤ºä»»æ„å¤§çš„<strong>æ•´æ•°</strong></p>
<p><strong>å¦‚ä½•å®šä¹‰ä¸€ä¸ª BigIntï¼š</strong></p>
<ul>
<li>åœ¨ä¸€ä¸ªæ•´æ•°å­—é¢é‡åé¢åŠ  nï¼Œä¾‹å¦‚ <code>10n</code></li>
<li>è°ƒç”¨å‡½æ•° <code>BigInt()</code> å¹¶ä¼ é€’ä¸€ä¸ªæ•´æ•°å€¼æˆ–å­—ç¬¦ä¸²å€¼ï¼Œä¾‹å¦‚ <code>BigInt(10)</code></li>
</ul>
<p><strong>BigInt çš„ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>
<p>BigInt ä¸èƒ½ç”¨äº Math å¯¹è±¡ä¸­çš„æ–¹æ³•ï¼›</p>
</li>
<li>
<p>BigInt ä¸èƒ½ä¸ä»»ä½• Number å®ä¾‹æ··åˆè¿ç®—ï¼Œä¸¤è€…å¿…é¡»è½¬æ¢æˆåŒä¸€ç§ç±»å‹ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ï¼ŒBigInt åœ¨è½¬æ¢æˆ Number æ—¶å¯èƒ½ä¼šä¸¢å¤±ç²¾åº¦ã€‚</p>
</li>
<li>
<p>å½“ä½¿ç”¨ BigInt æ—¶ï¼Œå¸¦å°æ•°çš„è¿ç®—ä¼šè¢«å‘ä¸‹å–æ•´</p>
</li>
<li>
<p>BigInt å’Œ Number ä¸æ˜¯ä¸¥æ ¼ç›¸ç­‰ï¼Œä½†æ˜¯å®½æ¾ç›¸ç­‰</p>
<pre><code class="language-js">0n === 0; // false
0n == 0; // true
</code></pre>
</li>
<li>
<p>BigInt å’Œ Number å¯ä»¥æ¯”è¾ƒ</p>
<pre><code class="language-js">2n &gt; 2; // false
2n &gt; 1; // true
</code></pre>
</li>
<li>
<p>BigInt å’Œ Number å¯ä»¥æ··åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æ’åº</p>
<pre><code class="language-js">const mixed = [4n, 6, -12n, 10, 4, 0, 0n];
mixed.sort(); // [-12n, 0, 0n, 10, 4n, 4, 6]
</code></pre>
</li>
<li>
<p>è¢« Object åŒ…è£…çš„ BigInt ä½¿ç”¨ object çš„æ¯”è¾ƒè§„åˆ™è¿›è¡Œæ¯”è¾ƒï¼Œåªç”¨åŒä¸€ä¸ªå¯¹è±¡æ¯”è¾ƒæ—¶æ‰ç›¸ç­‰</p>
<pre><code class="language-js">0n === Object(0n); // false
Object(0n) === Object(0n); // false
const o = Object(0n);
o === o; // true
</code></pre>
</li>
</ul>
<p><strong>BigInt çš„æ–¹æ³•ï¼š</strong></p>
<ul>
<li><code>BigInt.asIntN()</code><br>
å°† BigInt å€¼è½¬æ¢ä¸ºä¸€ä¸ª -2^(width-1) ä¸ 2^(width-1) - 1 ä¹‹é—´çš„æœ‰ç¬¦å·æ•´æ•°ã€‚</li>
<li><code>BigInt.asUintN()</code><br>
å°†ä¸€ä¸ª BigInt å€¼è½¬æ¢ä¸º 0 ä¸ 2^(width) - 1 ä¹‹é—´çš„æ— ç¬¦å·æ•´æ•°ã€‚</li>
<li><code>BigInt.prototype.toLocaleString()</code><br>
è¿”å›æ­¤æ•°å­—çš„ language-sensitive å½¢å¼çš„å­—ç¬¦ä¸²ã€‚è¦†ç›– <code>Object.prototype.toLocaleString()</code> æ–¹æ³•ã€‚</li>
<li>BigInt.prototype.toString()<br>
è¿”å›ä»¥æŒ‡å®šåŸºæ•° (base) è¡¨ç¤ºæŒ‡å®šæ•°å­—çš„å­—ç¬¦ä¸²ã€‚è¦†ç›– <code>Object.prototype.toString()</code> æ–¹æ³•ã€‚</li>
<li>BigInt.prototype.valueOf()<br>
è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸºå…ƒå€¼ã€‚è¦†ç›– <code>Object.prototype.valueOf()</code> æ–¹æ³•ã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆä¼šæœ‰ Bigint çš„ææ¡ˆï¼Ÿ</strong><br>
JavaScript ä¸­ <code>Number.MAX_SAFE_INTEGER</code>è¡¨ç¤ºæœ€å¤§å®‰å…¨æ•°å­—ï¼Œè®¡ç®—ç»“æœæ˜¯ 9007199254740991ï¼Œå³åœ¨è¿™ä¸ªæ•°å­—èŒƒå›´å†…ä¸ä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±ï¼ˆå°æ•°é™¤å¤–ï¼‰ã€‚ä½†æ˜¯ä¸€æ—¦è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œjs å°±ä¼šå‡ºç°è®¡ç®—ä¸å‡†ç¡®çš„æƒ…å†µï¼Œè¿™åœ¨å¤§æ•°è®¡ç®—çš„æ—¶å€™å°±ä¸å¾—ä¸ä¾é ä¸€äº›ç¬¬ä¸‰æ–¹åº“è¿›è¡Œè§£å†³ï¼Œå› æ­¤å®˜æ–¹æå‡ºäº† BigInt æ¥è§£å†³æ­¤é—®é¢˜ã€‚</p>
<h2>5. <code>String.prototype.matchAll()</code></h2>
<p>è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æœåŠåˆ†ç»„æ•è·ç»„çš„è¿­ä»£å™¨ã€‚</p>
<pre><code class="language-js">const regexp = /t(e)(st(\d?))/g;
const str = &quot;test1test2&quot;;
const array = [...str.matchAll(regexp)];
console.log(array[0]); // [&quot;test1&quot;, &quot;e&quot;, &quot;st1&quot;, &quot;1&quot;]
console.log(array[1]); // [&quot;test2&quot;, &quot;e&quot;, &quot;st2&quot;, &quot;2&quot;]
</code></pre>
<h2>6. <code>Promise.allSettled()</code></h2>
<p>ç±»æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªåœ¨æ‰€æœ‰ç»™å®šçš„ promise éƒ½å·²ç» fulfilled æˆ– rejected åçš„ promiseï¼Œå¹¶å¸¦æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡è¡¨ç¤ºå¯¹åº”çš„ promise ç»“æœã€‚</p>
<pre><code class="language-js">Promise.allSettled([
  Promise.resolve(33),
  new Promise((resolve) =&gt; setTimeout(() =&gt; resolve(66), 0)),
  99,
  Promise.reject(new Error(&quot;an error&quot;)),
]).then((values) =&gt; console.log(values));
// [
//   { status: 'fulfilled', value: 33 },
//   { status: 'fulfilled', value: 66 },
//   { status: 'fulfilled', value: 99 },
//   { status: 'rejected', reason: Error: an error }
// ]
</code></pre>
<h2>7. Dynamic importï¼ˆæŒ‰éœ€ importï¼‰</h2>
<p><code>import</code> å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™ï¼Œå†åŠ è½½æŸä¸ªæ¨¡å—ã€‚</p>
<pre><code class="language-js">button.addEventListener(&quot;click&quot;, (event) =&gt; {
  import(&quot;./dialogBox.js&quot;)
    .then((dialogBox) =&gt; {
      dialogBox.open();
    })
    .catch((error) =&gt; {
      /* Error handling */
    });
});
</code></pre>
<h1>ES12</h1>
<p>ES 2021ï¼ˆES12ï¼‰æ–°å¢äº†å¦‚ä¸‹æ–°ç‰¹æ€§ ğŸ‘‡ï¼š</p>
<ul>
<li>é€»è¾‘è¿ç®—ç¬¦å’Œèµ‹å€¼è¡¨è¾¾å¼ï¼ˆ&amp;&amp;=ï¼Œ||=ï¼Œ??=ï¼‰</li>
<li><code>String.prototype.replaceAll()</code></li>
<li>æ•°å­—åˆ†éš”ç¬¦</li>
<li><code>Promise.any</code></li>
</ul>
<h2>1. é€»è¾‘è¿ç®—ç¬¦å’Œèµ‹å€¼è¡¨è¾¾å¼ï¼ˆ&amp;&amp;=ï¼Œ||=ï¼Œ??=ï¼‰</h2>
<h3>&amp;&amp;=</h3>
<p>é€»è¾‘ä¸èµ‹å€¼è¿ç®—ç¬¦ <code>x &amp;&amp;= y</code> ç­‰ä»·äº <code>x &amp;&amp; (x=y)</code>ï¼šæ„æ€æ˜¯å½“ x ä¸ºçœŸæ—¶ï¼Œx = yã€‚</p>
<pre><code class="language-js">let a = 1;
let b = 0;
a &amp;&amp;= 2;
console.log(a); // 2
b &amp;&amp;= 2;
console.log(b); // 0
</code></pre>
<h3>||=</h3>
<p>é€»è¾‘æˆ–èµ‹å€¼è¿ç®—ç¬¦ <code>x ||= y</code> ç­‰ä»·äº <code>x || (x = y)</code>ï¼šæ„æ€æ˜¯ä»…åœ¨ x ä¸º false çš„æ—¶å€™ï¼Œx = yã€‚</p>
<pre><code class="language-js">const a = { duration: 50, title: &quot;&quot; };
a.duration ||= 10;
console.log(a.duration); // 50
a.title ||= &quot;title is empty.&quot;;
console.log(a.title); // &quot;title is empty&quot;
</code></pre>
<h3>??=</h3>
<p>é€»è¾‘ç©ºèµ‹å€¼è¿ç®—ç¬¦ <code>x ??= y</code> ç­‰ä»·äº <code>x ?? (x = y)</code>ï¼šæ„æ€æ˜¯ä»…åœ¨ x ä¸º null æˆ– undefined çš„æ—¶å€™ï¼Œx = yã€‚</p>
<pre><code class="language-js">const a = { duration: 50 };
a.duration ??= 10;
console.log(a.duration); // 50
a.speed ??= 25;
console.log(a.speed); // 25
</code></pre>
<h2>2. <code>String.prototype.replaceAll()</code></h2>
<p>è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­æ‰€æœ‰æ»¡è¶³ pattern çš„éƒ¨åˆ†éƒ½ä¼šè¢« replacement æ›¿æ¢æ‰ã€‚åŸå­—ç¬¦ä¸²ä¿æŒä¸å˜ã€‚</p>
<ul>
<li>pattern å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ– RegExpï¼›</li>
<li>replacement å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªåœ¨æ¯æ¬¡è¢«åŒ¹é…è¢«è°ƒç”¨çš„å‡½æ•°ã€‚</li>
</ul>
<pre><code class="language-js">&quot;aabbcc&quot;.replaceAll(&quot;b&quot;, &quot;.&quot;); // 'aa..cc'
</code></pre>
<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢å€¼æ—¶ï¼Œå¿…é¡»æ˜¯å…¨å±€çš„ï¼š</p>
<pre><code class="language-js">&quot;aabbcc&quot;.replaceAll(/b/, &quot;.&quot;); // TypeError: replaceAll must be called with a global RegExp
&quot;aabbcc&quot;.replaceAll(/b/g, &quot;.&quot;); // &quot;aa..cc&quot;
</code></pre>
<h2>3. æ•°å­—åˆ†éš”ç¬¦</h2>
<p>ES12 å…è®¸ JavaScript çš„æ•°å€¼ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ä½œä¸ºåˆ†éš”ç¬¦ï¼Œä½†æ˜¯æ²¡æœ‰è§„å®šé—´éš”çš„ä½æ•°ï¼š</p>
<pre><code class="language-js">123_00;
</code></pre>
<p>å°æ•°å’Œç§‘å­¦è®°æ•°æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†éš”ç¬¦ï¼š</p>
<pre><code class="language-js">0.1_23;
1e10_00;
</code></pre>
<p>âš ï¸ æ³¨æ„ï¼š</p>
<ul>
<li>ä¸èƒ½æ”¾åœ¨æ•°å€¼çš„æœ€å‰é¢å’Œæœ€åé¢ï¼›</li>
<li>ä¸èƒ½å°†ä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šçš„åˆ†éš”ç¬¦è¿åœ¨ä¸€èµ·ï¼›</li>
<li>å°æ•°ç‚¹çš„å‰åä¸èƒ½æœ‰åˆ†éš”ç¬¦ï¼›</li>
<li>ç§‘å­¦è®°æ•°æ³•é‡Œï¼Œe æˆ– E å‰åä¸èƒ½æœ‰åˆ†éš”ç¬¦ã€‚</li>
</ul>
<h2>4. <code>Promise.any</code></h2>
<p>æ–¹æ³•æ¥å—ä¸€ç»„ Promise å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹è¿”å›ã€‚</p>
<p>åªè¦å‚æ•°å®ä¾‹æœ‰ä¸€ä¸ªå˜æˆ fulfilled çŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆ fulfilled çŠ¶æ€ï¼›å¦‚æœæ‰€æœ‰å‚æ•°å®ä¾‹éƒ½å˜æˆ rejected çŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆ rejected çŠ¶æ€ã€‚</p>
<pre><code class="language-js">const promise1 = () =&gt; {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(&quot;promise1&quot;);
      //  reject(&quot;error promise1 &quot;);
    }, 3000);
  });
};
const promise2 = () =&gt; {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(&quot;promise2&quot;);
      // reject(&quot;error promise2 &quot;);
    }, 1000);
  });
};
const promise3 = () =&gt; {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(&quot;promise3&quot;);
      // reject(&quot;error promise3 &quot;);
    }, 2000);
  });
};
Promise.any([promise1(), promise2(), promise3()])
  .then((first) =&gt; {
    // åªè¦æœ‰ä¸€ä¸ªè¯·æ±‚æˆåŠŸ å°±ä¼šè¿”å›ç¬¬ä¸€ä¸ªè¯·æ±‚æˆåŠŸçš„
    console.log(first); // ä¼šè¿”å›promise2
  })
  .catch((error) =&gt; {
    // æ‰€æœ‰ä¸‰ä¸ªå…¨éƒ¨è¯·æ±‚å¤±è´¥ æ‰ä¼šæ¥åˆ°è¿™é‡Œ
    console.log(&quot;error&quot;, error);
  });
</code></pre>
<pre><code class="language-js">Promise.any([promise1(), promise2(), promise3()])
  .then((first) =&gt; {
    // åªè¦æœ‰ä¸€ä¸ªè¯·æ±‚æˆåŠŸ å°±ä¼šè¿”å›ç¬¬ä¸€ä¸ªè¯·æ±‚æˆåŠŸçš„
    console.log(first); // ä¼šè¿”å›promise2
  })
  .catch((error) =&gt; {
    // æ‰€æœ‰ä¸‰ä¸ªå…¨éƒ¨è¯·æ±‚å¤±è´¥ æ‰ä¼šæ¥åˆ°è¿™é‡Œ
    console.log(&quot;error&quot;, error);
  });
</code></pre>
 
    </div>
  </div>
  <div class="article__wrapper_footer">
    <a class="article__wrapper_footer-left " href="/articles/167.html"><svg t="1713708729970" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8437" width="48" height="48"><path d="M409.272947 512.57741l403.237243 403.237243a63.349415 63.349415 0 1 1-89.622481 89.622482L274.839224 557.324726a63.349415 63.349415 0 0 1 0-89.494632L722.951633 19.717685a63.349415 63.349415 0 1 1 89.494633 89.622482L409.336872 512.57741z" p-id="8438" fill="currentColor"></path></svg></a>
    <a class="article__wrapper_footer-right " href="/articles/169.html"><svg t="1713708697355" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8093" width="48" height="48"><path d="M855.123 517.004c0 8.245-3.167 15.51-9.503 21.823L402.999 981.47c-6.336 6.336-13.625 9.477-21.869 9.477s-15.51-3.142-21.845-9.477L311.8 933.96c-6.336-6.336-9.502-13.6-9.502-21.845 0-8.222 3.167-15.51 9.502-21.845l373.29-373.29-373.293-373.267c-6.336-6.336-9.502-13.6-9.502-21.845s3.167-15.533 9.503-21.869l47.484-47.484c6.336-6.336 13.6-9.502 21.845-9.502s15.533 3.167 21.869 9.503l442.621 442.622c6.334 6.334 9.503 13.625 9.503 21.869z" fill="currentColor" p-id="8094"></path></svg></a>
  </div>
  <a class="article__wrapper_index" href="/articles/"><svg t="1713708857338" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9656" width="48" height="48"><path d="M549.61981 133.022476l319.683047 203.605334A70.851048 70.851048 0 0 1 902.095238 396.361143v434.883047A70.89981 70.89981 0 0 1 831.146667 902.095238h-282.819048l0.024381-218.112h-71.826286v218.087619L192.853333 902.095238A70.89981 70.89981 0 0 1 121.904762 831.24419V390.241524c0-24.527238 12.678095-47.299048 33.54819-60.220953l318.659048-197.485714a70.972952 70.972952 0 0 1 75.50781 0.487619zM828.952381 828.952381V397.214476L511.488 195.047619 195.047619 391.119238V828.952381h211.309714v-216.551619h212.187429v216.527238L828.952381 828.952381z" p-id="9657" fill="#707070"></path></svg></div>
  <script src="../assets/js/prism.min.js"></script>
  <script src="../assets/js/prism-javascript.min.js"></script>
  <script src="../assets/js/articles-detail.js"></script>
</body>
</html>
    