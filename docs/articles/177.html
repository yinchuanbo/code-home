<!DOCTYPE html>
<html lang="en">
  <head>
    <title>å†™ä¸€ä¸ªç®€ç‰ˆå‰ç«¯ç›‘æ§ SDK</title>
    <meta charset="utf-8">
    <meta name="description" content="This is a page">
    <meta name="keywords" content="page, sample">
    <meta name="author" content="None">
    <link rel="icon" href="../assets/images/code.svg" sizes="32x32" />
    <link rel="stylesheet" href="../assets/css/prism-okaidia.min.css">
    <link rel="stylesheet" href="../assets/css/articles.css">
</head>
<body>
  <!--<div class="article__wrapper_left">
    <div class="article__wrapper_left-mulu">ç›®å½•</div>
    <ul class="articles__list"><li class="">
          <a href="/articles/176.html">
            VUE3 ä¸­åˆ©ç”¨ canvg è½»æ¾å°† SVG è½¬æ¢æˆå›¾ç‰‡å¹¶ä¸‹è½½
          </a>
        </li><li class="">
          <a href="/articles/175.html">
            JSä¸­æ•°æ®ç±»å‹è½¬æ¢ã€å„ç§è¿ç®—ç¬¦è§„åˆ™
          </a>
        </li><li class="">
          <a href="/articles/174.html">
            é€šè¿‡JSè·å–ä½ å½“å‰çš„ç½‘ç»œçŠ¶å†µ
          </a>
        </li><li class="">
          <a href="/articles/173.html">
            å†™ H5 é¡µé¢çœŸçš„è¦äº†è§£ meta æ ‡ç­¾
          </a>
        </li><li class="">
          <a href="/articles/172.html">
            HTMLï¼Œæ— é™å¯èƒ½
          </a>
        </li><li class="">
          <a href="/articles/171.html">
            å¦‚ä½• â€œä¸­æ­¢â€ ä¸€ä¸ª Promise ?
          </a>
        </li><li class="">
          <a href="/articles/170.html">
            å½“ç½‘é¡µèµ„æºåŠ è½½å¤±è´¥æ—¶ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ
          </a>
        </li><li class="">
          <a href="/articles/169.html">
            äº†è§£é€å½»æµè§ˆå™¨ç¼“å­˜
          </a>
        </li><li class="">
          <a href="/articles/168.html">
            ES7ã€ES8ã€ES9ã€ES10ã€ES11ã€ES12éƒ½å¢åŠ äº†å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ
          </a>
        </li><li class="">
          <a href="/articles/167.html">
            è·¨åŸŸé—®é¢˜å¤šç§è§£å†³æ–¹æ¡ˆçš„ç²¾åæ€»ç»“
          </a>
        </li></ul>
  </div>-->
  <div class="article__wrapper_sidebar">
    <a href="/articles/"><svg t="1714001835347" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4298" width="48" height="48"><path d="M147.904 304.128l301.866667-179.541333a128 128 0 0 1 131.712 0.512l295.466666 178.88A128 128 0 0 1 938.666667 413.482667V810.666667a128 128 0 0 1-128 128H213.333333a128 128 0 0 1-128-128V414.144a128 128 0 0 1 62.570667-110.016z m43.626667 73.344A42.666667 42.666667 0 0 0 170.666667 414.144V810.666667a42.666667 42.666667 0 0 0 42.666666 42.666666h597.333334a42.666667 42.666667 0 0 0 42.666666-42.666666V413.482667a42.666667 42.666667 0 0 0-20.565333-36.501334l-295.466667-178.88a42.666667 42.666667 0 0 0-43.925333-0.170666l-301.866667 179.541333z" fill="currentColor" p-id="4299"></path><path d="M405.333333 469.333333h213.333334a42.666667 42.666667 0 1 1 0 85.333334H405.333333a42.666667 42.666667 0 1 1 0-85.333334z m0 85.333334a42.666667 42.666667 0 1 0 0-85.333334h213.333334a42.666667 42.666667 0 1 0 0 85.333334H405.333333z" fill="currentColor" p-id="4300"></path></svg></a>
    <a href="/tools/"><svg t="1714002003458" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6911" width="48" height="48"><path d="M817.87 556.31h-63.58v-66.24A42.27 42.27 0 0 0 712 447.8h-84.81a42.27 42.27 0 0 0-42.27 42.27v66.24H436.57v-66.24a42.27 42.27 0 0 0-42.27-42.27h-84.83a42.27 42.27 0 0 0-42.27 42.27v66.24h-61.83A22.39 22.39 0 0 0 183 578.7a22.39 22.39 0 0 0 22.39 22.39h61.81v65.55a42.27 42.27 0 0 0 42.27 42.27h84.83a42.27 42.27 0 0 0 42.27-42.27v-65.55h148.36v65.55a42.27 42.27 0 0 0 42.27 42.27H712a42.27 42.27 0 0 0 42.27-42.27v-65.55h63.58a22.39 22.39 0 0 0 22.39-22.39 22.39 22.39 0 0 0-22.37-22.39z m-438.64 95.26h-54.69V505.14h54.69z m317.72 0h-54.69V505.14H697z" p-id="6912" fill="currentColor"></path><path d="M823 202.58h-90.81v-63.09a71.88 71.88 0 0 0-71.88-71.88H363.19a71.88 71.88 0 0 0-71.88 71.88v63.08h-90.12A137.17 137.17 0 0 0 64 339.75v479a137.17 137.17 0 0 0 137.19 137.14H823a137.17 137.17 0 0 0 137.19-137.17v-479A137.17 137.17 0 0 0 823 202.58z m-474.36-54.1A23.52 23.52 0 0 1 372.17 125h279.16a23.52 23.52 0 0 1 23.52 23.52v54.1h-326.2z m554.23 673.31a76.76 76.76 0 0 1-76.76 76.76h-628a76.76 76.76 0 0 1-76.76-76.76V336.67a76.76 76.76 0 0 1 76.76-76.76h628a76.76 76.76 0 0 1 76.76 76.76z" p-id="6913" fill="currentColor"></path></svg></a>
  </div>
  <div class="article__wrapper">
    <div class="article__wrapper__main">
      <div class="article__wrapper_header">
        <h1>å†™ä¸€ä¸ªç®€ç‰ˆå‰ç«¯ç›‘æ§ SDK</h1>
        <span class="articles__home_time">2024/05/20 Â· YinHao</span>
      </div>
      <p>ä¸€ä¸ªå®Œæ•´çš„å‰ç«¯ç›‘æ§å¹³å°åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šæ•°æ®é‡‡é›†ä¸ä¸ŠæŠ¥ã€æ•°æ®æ•´ç†å’Œå­˜å‚¨ã€æ•°æ®å±•ç¤ºï¼›æœ¬æ–‡åªå†™æ•°æ®é‡‡é›†ä¸ä¸ŠæŠ¥éƒ¨åˆ†ã€‚</p>
<p><img src="../assets/images/articles/177/01.awebp" alt=""></p>
<p><img src="../assets/images/articles/177/02.awebp" alt=""></p>
<h2>ä» 0 å¼€å§‹</h2>
<p>åå­—å¾ˆé‡è¦ï¼Œä¸€ä¸ªå¥½çš„åå­—ä¼šè®©ä½¿ç”¨è€…å¾ˆå®¹æ˜“è®°ä½ï¼Œä¼šè®©ä½¿ç”¨è€…è«åäº§ç”Ÿä¸€ç§è‡ªè±ªæ„Ÿï¼Œä¼šæ›´å®¹æ˜“ä¼ æ’­ï¼›å¦‚æœåå­—èƒ½å¤Ÿåˆ‡åˆæŸç§å¤§é“ï¼Œæ›´èƒ½å¸¦æ¥é¡ºç†æˆç« çš„æ•ˆæœã€‚æœ¬æ–‡çš„ç›‘æ§ SDK å°±å«å››ç»´å§ï¼Œå¯“æ„ä¸Šå¸è§†è§’ã€‚å…¨å†™ <code>four-dimension</code>ï¼Œç®€å†™ä¸º FDã€‚</p>
<pre><code class="language-js">class FourDimension {
  constructor() {
    this.init();
  }
  // åˆå§‹åŒ–
  init() {}
}
</code></pre>
<p>å®šä¹‰ä¸€ä¸ª FourDimension ç±»ï¼Œç›®å‰æœ‰æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°æ— å‚æ•°ã€‚åªæœ‰ init æ–¹æ³•ï¼Œç”¨ä»¥åˆå§‹åŒ–ç±»ã€‚init æ–¹æ³•ç”¨ä»¥æ€§èƒ½ã€é”™è¯¯ã€è¡Œä¸ºæ•°æ®æ”¶é›†ã€‚</p>
<h3>ä¸ŠæŠ¥æ•°æ®æ–¹æ³•</h3>
<p>ä¸šç•Œæ¯”è¾ƒæˆç†Ÿçš„æ–¹æ¡ˆï¼šä½¿ç”¨ 1x1 åƒç´ çš„ gif å›¾ç‰‡ä¸ŠæŠ¥ï¼Œæœ¬æ–‡ä¹Ÿæ˜¯ã€‚åŒæ—¶ä¹Ÿå¯ä»¥ä½¿<code>navigator.sendBeacon</code>ï¼Œ<code>navigator.sendBeacon</code> æ˜¯ä¸€ä¸ªç”¨äºå‘é€å°‘é‡æ•°æ®åˆ°æœåŠ¡å™¨çš„æµè§ˆå™¨ APIã€‚å®ƒæœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹</p>
<ol>
<li><strong>å¼‚æ­¥å’Œéé˜»å¡</strong>ï¼š<code>navigator.sendBeacon</code> æ˜¯å¼‚æ­¥çš„ï¼Œå®ƒä¸ä¼šé˜»å¡æµè§ˆå™¨çš„å…¶ä»–æ“ä½œã€‚è¿™å¯¹äºæ€§èƒ½ç›‘æ§æ¥è¯´éå¸¸é‡è¦ï¼Œå› ä¸ºéƒ½ä¸å¸Œæœ›ç›‘æ§çš„è¿‡ç¨‹å½±å“åˆ°é¡µé¢çš„æ€§èƒ½ã€‚</li>
<li><strong>åœ¨é¡µé¢å¸è½½æ—¶ä»ç„¶å¯ä»¥å‘é€æ•°æ®</strong>ï¼šå½“ç”¨æˆ·ç¦»å¼€é¡µé¢ï¼ˆä¾‹å¦‚å…³é—­é¡µé¢æˆ–è€…å¯¼èˆªåˆ°å…¶ä»–é¡µé¢ï¼‰æ—¶ï¼Œ<code>navigator.sendBeacon</code> ä»ç„¶å¯ä»¥å‘é€æ•°æ®ã€‚è¿™å¯¹äºæ•è·å’Œä¸ŠæŠ¥é¡µé¢å¸è½½å‰çš„æœ€åä¸€äº›æ€§èƒ½æ•°æ®æ¥è¯´éå¸¸æœ‰ç”¨ã€‚</li>
<li><strong>ä½ä¼˜å…ˆçº§</strong>ï¼š<code>navigator.sendBeacon</code> å‘é€çš„è¯·æ±‚æ˜¯ä½ä¼˜å…ˆçº§çš„ï¼Œå®ƒä¸ä¼šå½±å“åˆ°é¡µé¢çš„å…¶ä»–ç½‘ç»œè¯·æ±‚ã€‚</li>
<li><strong>ç®€å•æ˜“ç”¨</strong>ï¼š<code>navigator.sendBeacon</code> çš„ API éå¸¸ç®€å•ï¼Œåªéœ€è¦æä¾›ä¸ŠæŠ¥çš„ URL å’Œæ•°æ®ï¼Œå°±å¯ä»¥å‘é€è¯·æ±‚ã€‚</li>
</ol>
<p>ä¸æ­¤åŒæ—¶ï¼Œ<code>navigator.sendBeacon</code> ä¹Ÿæœ‰ä¸€äº›é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œå®ƒåªèƒ½å‘é€ POST è¯·æ±‚ï¼Œä¸èƒ½å‘é€ GET è¯·æ±‚ã€‚è€Œä¸”ï¼Œå®ƒå‘é€çš„è¯·æ±‚æ²¡æœ‰è¿”å›å€¼ï¼Œä¸èƒ½æ¥æ”¶æœåŠ¡å™¨çš„å“åº”ã€‚</p>
<p>æœ€åï¼Œä¸€äº›æ—§çš„æµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒ <code>navigator.sendBeacon</code>ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨ <code>navigator.sendBeacon</code> æ—¶ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œå…¼å®¹æ€§å¤„ç†ã€‚</p>
<p>æœ¬æ–‡çš„æ–¹æ¡ˆæ˜¯ï¼Œä¼˜å…ˆ<code>navigator.sendBeacon</code>ï¼Œé™çº§ä½¿ç”¨ 1x1 åƒç´  gif å›¾ç‰‡ï¼Œæ ¹æ®å®é™…æƒ…å†µéœ€è¦é‡‡ç”¨ xhrã€‚</p>
<p>åˆ›å»º report.js å¢åŠ ä¸Šä¼ æ–¹æ³•</p>
<pre><code class="language-js">import { isSupportSendBeacon } from &quot;./util&quot;;

// å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ sendBeaconï¼Œå°±ä½¿ç”¨å›¾ç‰‡æ‰“ç‚¹
const sendBeacon = (function () {
  if (isSupportSendBeacon()) {
    return window.navigator.sendBeacon.bind(window.navigator);
  }
  const reportImageBeacon = function (url, data) {
    reportImage(url, data);
  };
  return reportImageBeacon;
})();

export function reportImage(url, data) {
  const img = new Image();
  img.src = url + &quot;?reportData=&quot; + encodeURIComponent(JSON.stringify(data));
}
</code></pre>
<h2>ä¸ŠæŠ¥æ—¶æœº</h2>
<p>å‚è€ƒå…¶å®ƒæ–‡ç« ï¼Œä¸ŠæŠ¥æ—¶æœºé€‰æ‹©å¯¹å½“å‰é¡µé¢å½±å“æœ€å°çš„æ–¹æ¡ˆ</p>
<ol>
<li>ä¸ŠæŠ¥æ—¶æœºæœ‰ä¸‰ç§ï¼š</li>
<li>é‡‡ç”¨ <code>requestIdleCallback/setTimeout</code> å»¶æ—¶ä¸ŠæŠ¥ã€‚</li>
<li>åœ¨ beforeunload å›è°ƒå‡½æ•°é‡Œä¸ŠæŠ¥ã€‚</li>
<li>ç¼“å­˜ä¸ŠæŠ¥æ•°æ®ï¼Œè¾¾åˆ°ä¸€å®šæ•°é‡åå†ä¸ŠæŠ¥ã€‚</li>
</ol>
<p>å°†ä¸‰ç§æ–¹å¼ç»“åˆä¸€èµ·ä¸ŠæŠ¥ï¼š</p>
<p>å…ˆç¼“å­˜ä¸ŠæŠ¥æ•°æ®ï¼Œç¼“å­˜åˆ°ä¸€å®šæ•°é‡åï¼Œåˆ©ç”¨ <code>requestIdleCallback/setTimeout</code> å»¶æ—¶ä¸ŠæŠ¥ã€‚ åœ¨é¡µé¢ç¦»å¼€æ—¶ç»Ÿä¸€å°†æœªä¸ŠæŠ¥çš„æ•°æ®è¿›è¡Œä¸ŠæŠ¥ã€‚</p>
<p>åˆ›å»ºç¼“å­˜æ–‡ä»¶ cache.js</p>
<pre><code class="language-js">import { deepCopy } from &quot;./util&quot;;

const cache = [];

export function getCache() {
  return deepCopy(cache);
}

export function addCache(data) {
  cache.push(data);
}

export function clearCache() {
  cache.length = 0;
}
</code></pre>
<p>å…¶ä¸­ deepCopy</p>
<pre><code class="language-js">export function deepCopy(target) {
  if (typeof target === &quot;object&quot;) {
    const result = Array.isArray(target) ? [] : {};
    for (const key in target) {
      if (typeof target[key] == &quot;object&quot;) {
        result[key] = deepCopy(target[key]);
      } else {
        result[key] = target[key];
      }
    }
    return result;
  }
  return target;
}
</code></pre>
<p>ä¿®æ”¹ä¸Šä¼ æ–‡ä»¶ report.js</p>
<pre><code class="language-js">import { addCache, getCache, clearCache } from &quot;./cache&quot;;
import config from &quot;../config&quot;;
import { isSupportSendBeacon, generateUniqueID } from &quot;./util&quot;;

const sendBeacon = (function () {
  if (isSupportSendBeacon()) {
    return window.navigator.sendBeacon.bind(window.navigator);
  }
  const reportImageBeacon = function (url, data) {
    reportImage(url, data);
  };
  return reportImageBeacon;
})();

const sessionID = generateUniqueID();
export function report(data, isImmediate = false) {
  if (!config.reportUrl) {
    console.error(&quot;è¯·è®¾ç½®ä¸Šä¼  url åœ°å€&quot;);
  }

  const reportData = JSON.stringify({
    id: sessionID,
    appID: config.appID,
    userID: config.userID,
    data,
  });

  if (isImmediate) {
    sendBeacon(config.reportUrl, reportData);
    return;
  }

  if (window.requestIdleCallback) {
    window.requestIdleCallback(
      () =&gt; {
        sendBeacon(config.reportUrl, reportData);
      },
      { timeout: 3000 }
    );
  } else {
    setTimeout(() =&gt; {
      sendBeacon(config.reportUrl, reportData);
    });
  }
}

let timer = null;
export function lazyReportCache(data, timeout = 3000) {
  addCache(data);

  clearTimeout(timer);
  timer = setTimeout(() =&gt; {
    const data = getCache();
    if (data.length) {
      report(data);
      clearCache();
    }
  }, timeout);
}

export function reportWithXHR(data) {
  // 1. åˆ›å»º xhr å¯¹è±¡
  let xhr = new XMLHttpRequest();
  // 2. è°ƒç”¨ open å‡½æ•°
  xhr.open(&quot;POST&quot;, config.reportUrl);
  // 3. è°ƒç”¨ send å‡½æ•°
  xhr.send(JSON.stringify(data));
}

export function reportImage(url, data) {
  const img = new Image();
  img.src = url + &quot;?reportData=&quot; + encodeURIComponent(JSON.stringify(data));
}
</code></pre>
<p>å…¶ä¸­ config.js æ–‡ä»¶</p>
<pre><code class="language-js">const config = {
  reportUrl: &quot;http://localhost:8000/reportData&quot;,
  projectName: &quot;fd-example&quot;,
};

export function setConfig(options) {
  for (const key in config) {
    if (options[key]) {
      config[key] = options[key];
    }
  }
}
export default config;
</code></pre>
<h2>æ€§èƒ½æ•°æ®æ”¶é›†ä¸ŠæŠ¥</h2>
<p>æ ¹æ®æœ€åˆçš„è§„åˆ’ï¼Œæ€§èƒ½ç›‘æ§éœ€è¦æ”¶é›†çš„æ•°æ®æŒ‡æ ‡éœ€è¦æœ‰ FPã€FCPã€LCPã€DOMContentLoadedã€onloadã€èµ„æºåŠ è½½æ—¶é—´ã€æ¥å£è¯·æ±‚æ—¶é—´ã€‚</p>
<p>æ”¶é›† FPã€FCPã€LCPã€èµ„æºåŠ è½½æ—¶é—´å…·ä½“æ˜¯åˆ©ç”¨æµè§ˆå™¨ Performance APIã€‚å…³äº Performance API å¯ä»¥å‚è€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance">Performance</a></p>
<h3>æ”¶é›†ä¸ŠæŠ¥ FP</h3>
<p>FPï¼ˆFirst Paintï¼‰é¦–æ¬¡ç»˜åˆ¶ï¼Œå³æµè§ˆå™¨å¼€å§‹ç»˜åˆ¶é¡µé¢çš„æ—¶é—´ç‚¹ã€‚è¿™åŒ…æ‹¬äº†ä»»ä½•ç”¨æˆ·è‡ªå®šä¹‰çš„ç»˜åˆ¶ï¼Œå®ƒæ˜¯æ¸²æŸ“ä»»ä½•æ–‡æœ¬ã€å›¾åƒã€SVG ç­‰çš„å¼€å§‹æ—¶é—´</p>
<pre><code class="language-js">import { getPageURL, isSupportPerformanceObserver } from &quot;../utils/util&quot;;
import { lazyReportCache } from &quot;../utils/report&quot;;

export default function observePaint() {
  if (!isSupportPerformanceObserver()) return;

  const entryHandler = (list) =&gt; {
    for (const entry of list.getEntries()) {
      if (entry.name === &quot;first-paint&quot;) {
        observer.disconnect();
      }

      const json = entry.toJSON();
      delete json.duration;

      const reportData = {
        ...json,
        subType: entry.name,
        type: &quot;performance&quot;,
        pageURL: getPageURL(),
      };

      lazyReportCache(reportData);
    }
  };

  const observer = new PerformanceObserver(entryHandler);
  // buffered å±æ€§è¡¨ç¤ºæ˜¯å¦è§‚å¯Ÿç¼“å­˜æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´è§‚å¯Ÿä»£ç æ·»åŠ æ—¶æœºæ¯”äº‹æƒ…è§¦å‘æ—¶æœºæ™šä¹Ÿæ²¡å…³ç³»ã€‚
  observer.observe({ type: &quot;paint&quot;, buffered: true });
}
</code></pre>
<p>ä»£ç ä¸­<code>observer.disconnect()</code>æ˜¯ PerformanceObserver å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåœæ­¢è§‚å¯Ÿæ€§èƒ½æŒ‡æ ‡å¹¶æ–­å¼€ä¸å›è°ƒå‡½æ•°çš„è¿æ¥ã€‚</p>
<p>äº‹å®ä¸Š</p>
<pre><code class="language-js">observer.observe({ type: &quot;paint&quot;, buffered: true });
</code></pre>
<p>åŒ…å«ä¸¤ç§æ€§èƒ½æŒ‡æ ‡ï¼šfirst-contentful-paint å’Œ first-paintã€‚</p>
<p>å½“è°ƒç”¨<code>observer.disconnect()</code>æ–¹æ³•æ—¶ï¼ŒPerformanceObserver å¯¹è±¡å°†åœæ­¢è§‚å¯Ÿæ€§èƒ½æŒ‡æ ‡ï¼Œå¹¶ä¸”ä¸å†æ¥æ”¶ä»»ä½•æ€§èƒ½æŒ‡æ ‡çš„æ›´æ–°ã€‚ä¸æ­¤åŒæ—¶ï¼Œä¸å›è°ƒå‡½æ•°çš„è¿æ¥ä¹Ÿä¼šè¢«æ–­å¼€ï¼Œå³ä½¿æœ‰æ–°çš„æ€§èƒ½æŒ‡æ ‡æ•°æ®äº§ç”Ÿï¼Œä¹Ÿä¸ä¼šå†è§¦å‘å›è°ƒå‡½æ•°ã€‚</p>
<p>è¿™ä¸ªæ–¹æ³•é€šå¸¸åœ¨ä¸å†éœ€è¦è§‚å¯Ÿæ€§èƒ½æŒ‡æ ‡æ—¶è°ƒç”¨ï¼Œä»¥é¿å…ä¸å¿…è¦çš„èµ„æºæ¶ˆè€—ã€‚</p>
<h3>æ”¶é›†ä¸ŠæŠ¥ FCP</h3>
<p>FCPï¼ˆFirst Contentful Paintï¼‰ï¼šé¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼Œå³æµè§ˆå™¨é¦–æ¬¡ç»˜åˆ¶ DOM å†…å®¹çš„æ—¶é—´ç‚¹ï¼Œå¦‚æ–‡æœ¬ã€å›¾åƒã€SVG ç­‰ã€‚</p>
<p>çœ‹èµ·æ¥ FCP å’Œ FP ä¸€è‡´ï¼Œå…¶å®è¿˜æ˜¯æœ‰åŒºåˆ«çš„</p>
<ul>
<li>FCPï¼ˆFirst Contentful Paintï¼‰ï¼šFCP æ˜¯æŒ‡é¡µé¢ä¸Šé¦–æ¬¡æ¸²æŸ“ä»»ä½•æ–‡æœ¬ã€å›¾åƒã€éç©ºç™½çš„ canvas æˆ– SVG çš„æ—¶é—´ç‚¹ã€‚å®ƒè¡¨ç¤ºäº†ç”¨æˆ·é¦–æ¬¡çœ‹åˆ°é¡µé¢æœ‰å®é™…å†…å®¹çš„æ—¶é—´ï¼Œå³é¡µé¢å¼€å§‹å‘ˆç°æœ‰æ„ä¹‰çš„å†…å®¹çš„æ—¶é—´ç‚¹ã€‚</li>
<li>FPï¼ˆFirst Paintï¼‰ï¼šFP æ˜¯æŒ‡é¡µé¢ä¸Šé¦–æ¬¡æ¸²æŸ“ä»»ä½•å†…å®¹çš„æ—¶é—´ç‚¹ï¼ŒåŒ…æ‹¬èƒŒæ™¯é¢œè‰²ã€å›¾ç‰‡ã€æ–‡æœ¬ç­‰ã€‚å®ƒè¡¨ç¤ºäº†é¡µé¢å¼€å§‹å‘ˆç°ä»»ä½•å¯è§†åŒ–å†…å®¹çš„æ—¶é—´ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ‰æ„ä¹‰çš„å†…å®¹ã€‚</li>
</ul>
<p>ç®€è€Œè¨€ä¹‹ï¼ŒFCP å…³æ³¨çš„æ˜¯é¡µé¢ä¸Šé¦–æ¬¡å‘ˆç°æœ‰æ„ä¹‰å†…å®¹çš„æ—¶é—´ç‚¹ï¼Œè€Œ FP å…³æ³¨çš„æ˜¯é¡µé¢ä¸Šé¦–æ¬¡å‘ˆç°ä»»ä½•å¯è§†åŒ–å†…å®¹çš„æ—¶é—´ç‚¹ã€‚FCP æ›´å…³æ³¨ç”¨æˆ·æ„ŸçŸ¥çš„é¡µé¢åŠ è½½æ—¶é—´ï¼Œå› ä¸ºå®ƒè¡¨ç¤ºç”¨æˆ·å¯ä»¥å¼€å§‹é˜…è¯»æˆ–ä¸é¡µé¢è¿›è¡Œäº¤äº’çš„æ—¶é—´ç‚¹ã€‚è€Œ FP åˆ™æ›´å…³æ³¨é¡µé¢å¼€å§‹æ¸²æŸ“çš„æ—¶é—´ç‚¹ï¼Œæ— è®ºå†…å®¹æ˜¯å¦æœ‰æ„ä¹‰</p>
<pre><code class="language-js">import { getPageURL, isSupportPerformanceObserver } from &quot;../utils/util&quot;;
import { lazyReportCache } from &quot;../utils/report&quot;;

export default function observePaint() {
  if (!isSupportPerformanceObserver()) return;

  const entryHandler = (list) =&gt; {
    for (const entry of list.getEntries()) {
      if (entry.name === &quot;first-contentful-paint&quot;) {
        observer.disconnect();
      }

      const json = entry.toJSON();
      delete json.duration;

      const reportData = {
        ...json,
        subType: entry.name,
        type: &quot;performance&quot;,
        pageURL: getPageURL(),
      };

      lazyReportCache(reportData);
    }
  };

  const observer = new PerformanceObserver(entryHandler);
  // buffered å±æ€§è¡¨ç¤ºæ˜¯å¦è§‚å¯Ÿç¼“å­˜æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´è§‚å¯Ÿä»£ç æ·»åŠ æ—¶æœºæ¯”äº‹æƒ…è§¦å‘æ—¶æœºæ™šä¹Ÿæ²¡å…³ç³»ã€‚

  observer.observe({ type: &quot;paint&quot;, buffered: true });
}
</code></pre>
<h3>æ”¶é›†ä¸ŠæŠ¥ LCP</h3>
<p>LCPï¼ˆLargest Contentful Paintï¼‰ï¼šæœ€å¤§å†…å®¹ç»˜åˆ¶ï¼Œå³è§†å£ä¸­æœ€å¤§çš„å›¾åƒæˆ–æ–‡æœ¬å—çš„æ¸²æŸ“å®Œæˆçš„æ—¶é—´ç‚¹</p>
<pre><code class="language-js">import { getPageURL, isSupportPerformanceObserver } from &quot;../utils/util&quot;;
import { lazyReportCache } from &quot;../utils/report&quot;;

export default function observeLCP() {
  if (!isSupportPerformanceObserver()) {
    return;
  }

  const entryHandler = (list) =&gt; {
    if (observer) {
      observer.disconnect();
    }

    for (const entry of list.getEntries()) {
      const json = entry.toJSON();
      delete json.duration;

      const reportData = {
        ...json,
        target: entry.element?.tagName,
        name: entry.entryType,
        subType: entry.entryType,
        type: &quot;performance&quot;,
        pageURL: getPageURL(),
      };

      lazyReportCache(reportData);
    }
  };

  const observer = new PerformanceObserver(entryHandler);
  observer.observe({ type: &quot;largest-contentful-paint&quot;, buffered: true });
}
</code></pre>
<h3>æ”¶é›†ä¸ŠæŠ¥ DOMContentLoaded</h3>
<p>DOMContentLoadedï¼šå½“ HTML æ–‡æ¡£è¢«å®Œå…¨åŠ è½½å’Œè§£æå®Œæˆåï¼Œ<code>DOMContentLoaded</code>äº‹ä»¶è¢«è§¦å‘ï¼Œæ— éœ€ç­‰å¾…æ ·å¼è¡¨ã€å›¾åƒå’Œå­æ¡†æ¶çš„å®ŒæˆåŠ è½½</p>
<pre><code class="language-js">import { lazyReportCache } from &quot;../utils/report&quot;;

export default function observerLoad() {
  [&quot;DOMContentLoaded&quot;].forEach((type) =&gt; onEvent(type));
}

function onEvent(type) {
  function callback() {
    lazyReportCache({
      type: &quot;performance&quot;,
      subType: type.toLocaleLowerCase(),
      startTime: performance.now(),
    });

    window.removeEventListener(type, callback, true);
  }

  window.addEventListener(type, callback, true);
}
</code></pre>
<h3>æ”¶é›†ä¸ŠæŠ¥ onload æ•°æ®</h3>
<p>onloadï¼šå½“æ‰€æœ‰éœ€è¦ç«‹å³åŠ è½½çš„èµ„æºï¼ˆå¦‚å›¾ç‰‡å’Œæ ·å¼è¡¨ï¼‰å·²åŠ è½½å®Œæˆæ—¶çš„æ—¶é—´ç‚¹</p>
<pre><code class="language-js">import { lazyReportCache } from &quot;../utils/report&quot;;

export default function observerLoad() {
  [&quot;load&quot;].forEach((type) =&gt; onEvent(type));
}

function onEvent(type) {
  function callback() {
    lazyReportCache({
      type: &quot;performance&quot;,
      subType: type.toLocaleLowerCase(),
      startTime: performance.now(),
    });

    window.removeEventListener(type, callback, true);
  }

  window.addEventListener(type, callback, true);
}
</code></pre>
<h3>æ”¶é›†ä¸ŠæŠ¥èµ„æºåŠ è½½æ—¶é—´</h3>
<p>æ”¶é›†èµ„æºåŠ è½½æ—¶é—´</p>
<pre><code class="language-js">observer.observe({ type: &quot;resource&quot;, buffered: true });
</code></pre>
<p>æˆ‘åœ¨æƒ³ä»€ä¹ˆæ˜¯èµ„æºåŠ è½½æ—¶é—´ï¼Ÿåº”è¯¥å°±æ˜¯ä¸‹é¢çš„<code>entry.duration</code>çš„ã€‚æˆ‘è§‰å¾—å†™ç›‘æ§ SDK å¾ˆæœ‰æ„ä¹‰ï¼Œå¯ä»¥æ›´åŠ æ·±å…¥çš„å­¦ä¹ æµè§ˆå™¨æ¨¡å‹ã€‚äº†è§£æµè§ˆå™¨æ˜¯æ€ä¹ˆçœ‹å¾…å„ç§ html æ–‡ä»¶èµ„æºçš„</p>
<pre><code class="language-js">import { executeAfterLoad, isSupportPerformanceObserver } from &quot;../utils/util&quot;;
import { lazyReportCache } from &quot;../utils/report&quot;;

export default function observeEntries() {
  executeAfterLoad(() =&gt; {
    observeEvent(&quot;resource&quot;);
  });
}

export function observeEvent(entryType) {
  function entryHandler(list) {
    const data = list.getEntries();
    for (const entry of data) {
      if (observer) {
        observer.disconnect();
      }

      lazyReportCache({
        name: entry.name, // èµ„æºåç§°
        subType: entryType,
        type: &quot;performance&quot;,
        sourceType: entry.initiatorType, // èµ„æºç±»å‹
        duration: entry.duration, // èµ„æºåŠ è½½è€—æ—¶
        dns: entry.domainLookupEnd - entry.domainLookupStart, // DNS è€—æ—¶
        tcp: entry.connectEnd - entry.connectStart, // å»ºç«‹ tcp è¿æ¥è€—æ—¶
        redirect: entry.redirectEnd - entry.redirectStart, // é‡å®šå‘è€—æ—¶
        ttfb: entry.responseStart, // é¦–å­—èŠ‚æ—¶é—´
        protocol: entry.nextHopProtocol, // è¯·æ±‚åè®®
        responseBodySize: entry.encodedBodySize, // å“åº”å†…å®¹å¤§å°
        responseHeaderSize: entry.transferSize - entry.encodedBodySize, // å“åº”å¤´éƒ¨å¤§å°
        resourceSize: entry.decodedBodySize, // èµ„æºè§£å‹åçš„å¤§å°
        startTime: performance.now(),
      });
    }
  }

  let observer;
  if (isSupportPerformanceObserver()) {
    observer = new PerformanceObserver(entryHandler);
    observer.observe({ type: entryType, buffered: true });
  }
}
</code></pre>
<h3>æ”¶é›†ä¸ŠæŠ¥æ¥å£è¯·æ±‚æ—¶é—´</h3>
<p>è¿™é‡Œé€šè¿‡è¦†å†™åŸç”Ÿ xhr å¯¹è±¡æ–¹æ³•ï¼Œå¯¹æ–¹æ³•åšæ‹¦æˆªå®ç°æ¥å£æ—¶é—´æ”¶é›†ä»¥åŠä¸ŠæŠ¥</p>
<pre><code class="language-js">import { originalOpen, originalSend, originalProto } from &quot;../utils/xhr&quot;;
import { lazyReportCache } from &quot;../utils/report&quot;;

function overwriteOpenAndSend() {
  originalProto.open = function newOpen(...args) {
    this.url = args[1];
    this.method = args[0];
    originalOpen.apply(this, args);
  };

  originalProto.send = function newSend(...args) {
    this.startTime = Date.now();

    const onLoadend = () =&gt; {
      this.endTime = Date.now();
      this.duration = this.endTime - this.startTime;

      const { status, duration, startTime, endTime, url, method } = this;
      const reportData = {
        status,
        duration,
        startTime,
        endTime,
        url,
        method: (method || &quot;GET&quot;).toUpperCase(),
        success: status &gt;= 200 &amp;&amp; status &lt; 300,
        subType: &quot;xhr&quot;,
        type: &quot;performance&quot;,
      };

      lazyReportCache(reportData);

      this.removeEventListener(&quot;loadend&quot;, onLoadend, true);
    };

    this.addEventListener(&quot;loadend&quot;, onLoadend, true);
    originalSend.apply(this, args);
  };
}

export default function xhr() {
  overwriteOpenAndSend();
}
</code></pre>
<h2>é”™è¯¯æ•°æ®æ”¶é›†ä¸ŠæŠ¥</h2>
<p>æ ¹æ®æœ€åˆçš„è§„åˆ’éœ€è¦æ”¶é›†èµ„æºåŠ è½½é”™è¯¯ã€js é”™è¯¯å’Œ promise é”™è¯¯ã€‚</p>
<h3>æ”¶é›†ä¸ŠæŠ¥èµ„æºåŠ è½½é”™è¯¯</h3>
<p>æ”¶é›† JavaScriptã€CSS å’Œå›¾ç‰‡çš„åŠ è½½é”™è¯¯ï¼Œä½¿ç”¨<code>window.addEventListener</code>ç›‘å¬é”™è¯¯</p>
<pre><code class="language-js">import { lazyReportCache } from &quot;../utils/report&quot;;
import { getPageURL } from &quot;../utils/util&quot;;

export default function error() {
  // æ•è·èµ„æºåŠ è½½å¤±è´¥é”™è¯¯ js css img...
  window.addEventListener(
    &quot;error&quot;,
    (e) =&gt; {
      const target = e.target;
      if (!target) return;

      if (target.src || target.href) {
        const url = target.src || target.href;
        lazyReportCache({
          url,
          type: &quot;error&quot;,
          subType: &quot;resource&quot;,
          startTime: e.timeStamp,
          html: target.outerHTML,
          resourceType: target.tagName,
          paths: e.path.map((item) =&gt; item.tagName).filter(Boolean),
          pageURL: getPageURL(),
        });
      }
    },
    true
  );
}
</code></pre>
<h3>æ”¶é›†ä¸ŠæŠ¥ js é”™è¯¯</h3>
<p>æ”¶é›† JavaScript é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨ <code>window.onerror</code> æˆ–è€… <code>window.addEventListener('error', callback)</code></p>
<pre><code class="language-js">import { lazyReportCache } from &quot;../utils/report&quot;;
import { getPageURL } from &quot;../utils/util&quot;;

export default function error() {
  // ç›‘å¬ js é”™è¯¯
  window.onerror = (msg, url, line, column, error) =&gt; {
    lazyReportCache({
      msg,
      line,
      column,
      error: error.stack,
      subType: &quot;js&quot;,
      pageURL: url,
      type: &quot;error&quot;,
      startTime: performance.now(),
    });
  };
}
</code></pre>
<p>è¯´æ˜ä¸€ä¸‹<code>window.onerror</code>æ— æ³•æ•è·èµ„æºåŠ è½½é”™è¯¯ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥å•ç‹¬æ‹¿æ¥ç›‘å¬ js é”™è¯¯ã€‚</p>
<h3>æ”¶é›†ä¸ŠæŠ¥ promise é”™è¯¯</h3>
<p>æ”¶é›† Promise é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨ <code>window.addEventListener('unhandledrejection', callback)</code></p>
<pre><code class="language-js">import { lazyReportCache } from &quot;../utils/report&quot;;
import { getPageURL } from &quot;../utils/util&quot;;

export default function error() {
  // ç›‘å¬ promise é”™è¯¯ ç¼ºç‚¹æ˜¯è·å–ä¸åˆ°åˆ—æ•°æ®
  window.addEventListener(&quot;unhandledrejection&quot;, (e) =&gt; {
    lazyReportCache({
      reason: e.reason?.stack,
      subType: &quot;promise&quot;,
      type: &quot;error&quot;,
      startTime: e.timeStamp,
      pageURL: getPageURL(),
    });
  });
}
</code></pre>
<p>ä¸ºäº†å‡å°‘å¯¹ html æ–‡ä»¶ä»£ç çš„å¹²æ‰°ï¼Œé”™è¯¯æ”¶é›†å¯ä»¥æ·»åŠ ä¸€ä¸ªç¼“å­˜ä»£ç†ï¼Œå…·ä½“å‚è€ƒ<a href="https://juejin.cn/post/7195496297150709821#heading-17">å­—èŠ‚å‰ç«¯ç›‘æ§å®è·µ</a>ã€‚</p>
<h2>è¡Œä¸ºæ•°æ®æ”¶é›†ä¸ŠæŠ¥</h2>
<p>æ ¹æ®æœ€åˆçš„è§„åˆ’ï¼Œè¡Œä¸ºæ•°æ®æ”¶é›† pvã€uvï¼Œé¡µé¢åœç•™æ—¶é•¿ï¼Œç”¨æˆ·ç‚¹å‡»ã€‚</p>
<h3>æ”¶é›†ä¸ŠæŠ¥ pvã€uv</h3>
<p>æ”¶é›† pvï¼ˆPage Viewï¼Œé¡µé¢æµè§ˆé‡ï¼‰å’Œ uvï¼ˆUnique Visitorï¼Œç‹¬ç«‹è®¿å®¢ï¼‰æ•°æ®ï¼Œéœ€è¦åœ¨æ¯æ¬¡é¡µé¢åŠ è½½æ—¶å‘é€ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œç„¶ååœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œç»Ÿè®¡</p>
<pre><code class="language-js">import { lazyReportCache } from &quot;../utils/report&quot;;
import getUUID from &quot;./getUUID&quot;;
import { getPageURL } from &quot;../utils/util&quot;;

export default function pv() {
  lazyReportCache({
    type: &quot;behavior&quot;,
    subType: &quot;pv&quot;,
    startTime: performance.now(),
    pageURL: getPageURL(),
    referrer: document.referrer,
    uuid: getUUID(),
  });
}
</code></pre>
<p>è¿™é‡Œåªèƒ½æ”¶é›†äº† pv æ•°æ®ï¼Œuv æ•°æ®ç»Ÿè®¡éœ€è¦åœ¨æœåŠ¡ç«¯è¿›è¡Œã€‚</p>
<h3>é¡µé¢ä¸ŠæŠ¥åœç•™æ—¶é•¿</h3>
<p>æ”¶é›†é¡µé¢åœç•™æ—¶é•¿ï¼Œå¯ä»¥åœ¨é¡µé¢åŠ è½½æ—¶è®°å½•ä¸€ä¸ªå¼€å§‹æ—¶é—´ï¼Œç„¶ååœ¨é¡µé¢å¸è½½æ—¶è®°å½•ä¸€ä¸ªç»“æŸæ—¶é—´ï¼Œä¸¤è€…çš„å·®å°±æ˜¯é¡µé¢çš„åœç•™æ—¶é•¿ã€‚è¿™ä¸ªè®¡ç®—é€»è¾‘å¯ä»¥æ”¾åœ¨ Â <code>beforeunload</code>Â  äº‹ä»¶é‡Œåš</p>
<pre><code class="language-js">import { report } from &quot;../utils/report&quot;;
import { onBeforeunload, getPageURL } from &quot;../utils/util&quot;;
import getUUID from &quot;./getUUID&quot;;

export default function pageAccessDuration() {
  onBeforeunload(() =&gt; {
    report(
      {
        type: &quot;behavior&quot;,
        subType: &quot;page-access-duration&quot;,
        startTime: performance.now(),
        pageURL: getPageURL(),
        uuid: getUUID(),
      },
      true
    );
  });
}
</code></pre>
<h3>ç”¨æˆ·ç‚¹å‡»ä¸ŠæŠ¥</h3>
<p>æ”¶é›†ç”¨æˆ·ç‚¹å‡»äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>addEventListener</code> æ¥ç›‘å¬ <code>click</code> äº‹ä»¶ï¼Œè¿™é‡Œå€ŸåŠ©äº†å†’æ³¡</p>
<pre><code class="language-js">import { lazyReportCache } from &quot;../utils/report&quot;;
import { getPageURL } from &quot;../utils/util&quot;;
import getUUID from &quot;./getUUID&quot;;

export default function onClick() {
  [&quot;mousedown&quot;, &quot;touchstart&quot;].forEach((eventType) =&gt; {
    let timer;
    window.addEventListener(eventType, (event) =&gt; {
      clearTimeout(timer);
      timer = setTimeout(() =&gt; {
        const target = event.target;
        const { top, left } = target.getBoundingClientRect();

        lazyReportCache({
          top,
          left,
          eventType,
          pageHeight:
            document.documentElement.scrollHeight || document.body.scrollHeight,
          scrollTop:
            document.documentElement.scrollTop || document.body.scrollTop,
          type: &quot;behavior&quot;,
          subType: &quot;click&quot;,
          target: target.tagName,
          paths: event.path?.map((item) =&gt; item.tagName).filter(Boolean),
          startTime: event.timeStamp,
          pageURL: getPageURL(),
          outerHTML: target.outerHTML,
          innerHTML: target.innerHTML,
          width: target.offsetWidth,
          height: target.offsetHeight,
          viewport: {
            width: window.innerWidth,
            height: window.innerHeight,
          },
          uuid: getUUID(),
        });
      }, 500);
    });
  });
}
</code></pre>
<h2>æ”¹é€ å®Œå–„å››ç»´ç›‘æ§ç±»</h2>
<p>å°†æ€§èƒ½æ•°æ®ã€é”™è¯¯æ•°æ®ã€è¡Œä¸ºæ•°æ®å…¥å£æ–‡ä»¶çš„æ”¶é›†æ–¹æ³•åœ¨ç›‘æ§ç±»å››ç»´<code>init</code>æ–¹æ³•å†…åˆå§‹åŒ–</p>
<pre><code class="language-js">import performance from &quot;./performance/index&quot;;
import behavior from &quot;./behavior/index&quot;;
import error from &quot;./error/index&quot;;

class FourDimension {
  constructor() {
    this.init();
  }
  // åˆå§‹åŒ–
  init() {
    performance();
    error();
    behavior();
  }
}

new FourDimension().init();
</code></pre>
<p>åœ¨å…·ä½“ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œé‡‡ç”¨å¼‚æ­¥åŠ è½½çš„æ–¹å¼å¼•å…¥ã€‚</p>
<h3>æ€»ç»“</h3>
<p>å¦‚æœæ²¡æœ‰å…·ä½“æ•°æ®èƒ½å¤Ÿè¯æ˜è¿™ä¸ªç­–ç•¥æ˜¯ä¼˜çš„ï¼Œé‚£ä¹ˆå°±ä»ç†è®ºä¸Šé€‰ä¼˜çš„ã€‚è¿™ä¹Ÿæ˜¯æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„ç†è®ºæ”¯æ’‘ä¹‹ä¸€ã€‚å› ä¸ºæ¯•ç«Ÿæ²¡æœ‰çœŸå®æ•°æ®åšéªŒè¯ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªæ”¯æ’‘æ˜¯å…ˆæ¨¡ä»¿ï¼Œç†è§£åˆ«äººçš„å†ç†å‡ºè‡ªå·±çš„æ€è·¯ï¼›è€Œä¸”å†™æ–‡ç« ä¹Ÿæ˜¯ç£ä¿ƒè‡ªå·±å­¦ä¹ çš„ä¸€ç§æ–¹å¼ã€‚æœ¬æ–‡å¤§é‡å‚è€ƒäº†<a href="https://juejin.cn/post/7017974567943536671">å‰ç«¯ç›‘æ§ SDK çš„ä¸€äº›æŠ€æœ¯è¦ç‚¹åŸç†åˆ†æ</a> è¿™ç¯‡æ–‡ç« ã€‚å†™ç€å†™ç€å‘ç°å…³é”®æ˜¯æ•°æ®æ”¶é›†å’Œä¸ŠæŠ¥æ–¹å¼ï¼Œå…·ä½“ä¸ŠæŠ¥æ•°æ®æ¨¡å‹ä»¥åŠä¸ŠæŠ¥æ–¹å¼éœ€è¦åœ¨çœŸå®åœºæ™¯ä¸­ç ”ç©¶è¿­ä»£ã€‚ğŸ˜­</p>
<p>å½“ç„¶å¦ä¸€ä¸ªæ„ä¹‰ä¹Ÿè¯´äº†ï¼Œä»»ä½•äº‹æ²¡æœ‰åé¦ˆåˆ™æ²¡æœ‰è¿›æ­¥ã€‚ç›‘æ§å°±æ˜¯åé¦ˆã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘æƒ³å¦‚æœè¿™ç§ç›‘æ§å¦‚æœå¯è§†åŒ–ï¼Œå°±å¦‚åŒå¯¹äººçš„ç›‘æ§ä¸€æ ·ï¼Œå°±ç®—æ˜¯æ²¡æœ‰è­¦æŠ¥äº‹ä»¶ï¼Œä¹Ÿèƒ½è®°å½•è¢«ç›‘æ§å¯¹è±¡çš„å„ç§è¡Œä¸ºæ•°æ®ã€‚ä¸€å®šä¼šå¾ˆæœ‰æœ‰æ„æ€ã€‚å³ä½¿æ²¡æœ‰é”™è¯¯ä¹Ÿèƒ½æœ‰ä¸€ç§å¯è§†åŒ–ç”»é¢ã€‚</p>
<p>ä»£ç åœ°å€ï¼š<a href="https://github.com/zhensg123/rareRecord/tree/main/fourDemension">github.com/zhensg123/râ€¦</a></p>
 
    </div>
  </div>
  <div class="article__wrapper_footer">
    <a class="article__wrapper_footer-left " href="/articles/176.html"><svg t="1713708729970" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8437" width="48" height="48"><path d="M409.272947 512.57741l403.237243 403.237243a63.349415 63.349415 0 1 1-89.622481 89.622482L274.839224 557.324726a63.349415 63.349415 0 0 1 0-89.494632L722.951633 19.717685a63.349415 63.349415 0 1 1 89.494633 89.622482L409.336872 512.57741z" p-id="8438" fill="currentColor"></path></svg></a>
    <a class="article__wrapper_footer-right disabled" href="/articles/00.html"><svg t="1713708697355" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8093" width="48" height="48"><path d="M855.123 517.004c0 8.245-3.167 15.51-9.503 21.823L402.999 981.47c-6.336 6.336-13.625 9.477-21.869 9.477s-15.51-3.142-21.845-9.477L311.8 933.96c-6.336-6.336-9.502-13.6-9.502-21.845 0-8.222 3.167-15.51 9.502-21.845l373.29-373.29-373.293-373.267c-6.336-6.336-9.502-13.6-9.502-21.845s3.167-15.533 9.503-21.869l47.484-47.484c6.336-6.336 13.6-9.502 21.845-9.502s15.533 3.167 21.869 9.503l442.621 442.622c6.334 6.334 9.503 13.625 9.503 21.869z" fill="currentColor" p-id="8094"></path></svg></a>
  </div>
  <a class="article__wrapper_index" href="/articles/"><svg t="1713708857338" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9656" width="48" height="48"><path d="M549.61981 133.022476l319.683047 203.605334A70.851048 70.851048 0 0 1 902.095238 396.361143v434.883047A70.89981 70.89981 0 0 1 831.146667 902.095238h-282.819048l0.024381-218.112h-71.826286v218.087619L192.853333 902.095238A70.89981 70.89981 0 0 1 121.904762 831.24419V390.241524c0-24.527238 12.678095-47.299048 33.54819-60.220953l318.659048-197.485714a70.972952 70.972952 0 0 1 75.50781 0.487619zM828.952381 828.952381V397.214476L511.488 195.047619 195.047619 391.119238V828.952381h211.309714v-216.551619h212.187429v216.527238L828.952381 828.952381z" p-id="9657" fill="#707070"></path></svg></div>
  <script src="../assets/js/prism.min.js"></script>
  <script src="../assets/js/prism-javascript.min.js"></script>
  <script src="../assets/js/articles-detail.js"></script>
</body>
</html>
    